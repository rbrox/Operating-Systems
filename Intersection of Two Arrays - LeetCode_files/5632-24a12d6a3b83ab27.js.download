(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5632],{4963:function(e,n,t){(n=t(23645)(!1)).push([e.id,"._39fEV p,._39fEV summary{font-size:1rem!important;line-height:1.5rem!important}",""]),n.locals={markdown:"_39fEV"},e.exports=n},93103:function(e,n,t){"use strict";t.d(n,{u:function(){return l},w:function(){return a}});var o=t(26786),i=t(3688),a=function(e,n){return e.diff(n,"h",!0)<24},l=function(e,n){var t=n||{},a=t.hiddenFields,l=void 0===a?[]:a,r=t.prefix,s={days:"\u5929",hours:"\u5c0f\u65f6",minutes:"\u5206",seconds:"\u79d2"},c=["days","hours","minutes","seconds"].filter((function(e){return!l.includes(e)})).map((function(n,t){return 0!==t?{timeKey:n,value:e[n]()}:{timeKey:n,value:Math.floor(e["as".concat((0,o.default)(n))]())}}));return c.slice(c.findIndex((function(e){return 0!==e.value}))||0).map((function(e){return"".concat(e.value," ").concat((0,i.Z)(r,s)[e.timeKey])})).join(" ")}},77318:function(e,n,t){"use strict";t.d(n,{g:function(){return o}});var o={"data-gramm":!1,"data-gramm_editor":!1,"data-enable-grammarly":!1}},27503:function(e,n,t){"use strict";t.d(n,{t:function(){return x}});var o=t(26042),i=t(85893),a=t(67294),l=t(73935),r=t(11321),s=t(51797),c=t(29234),u=t(8290),d=t(25398),m=t(67021),v=t(7822),f=function(e){var n,t=e.visible,o=e.loading,a=e.variant,f=e.className,p=e.title,h=e.confirmText,x=e.icon,C=e.iconClassName,y=e.confirmBtn,g=e.confirmBtnCls,j=e.onConfirm,b=e.cancelBtn,N=e.cancelBtnCls,I=e.onCancel,w=(0,r.$G)("common",{keyPrefix:"confirmModal"}).t,k=function(e){switch(e){case"info":return{icon:m.e,iconClassName:c.Cj.labelBlueStandard,confirmBtnCls:(0,s.yI)(c.Cj.bgBlueStandard,c.Cj.bgBlue3Hover,c.Cj.labelWhite)};case"danger":return{icon:v.Q,iconClassName:c.Cj.labelRedStandard,confirmBtnCls:(0,s.yI)(c.Cj.bgRedStandard,c.Cj.bgRed3Hover,c.Cj.labelWhite)};default:return{}}}(a),S=null!==(n=null!==x&&void 0!==x?x:k.icon)&&void 0!==n?n:m.e;return(0,l.createPortal)((0,i.jsx)(u.u,{visible:t,onCancel:I,closable:!1,maskClosable:!0,className:f,children:(0,i.jsxs)("div",{className:"flex space-x-5",children:[(0,i.jsx)("div",{className:(0,s.yI)("h-10 w-10",k.iconClassName,C),children:(0,i.jsx)(S,{className:"h-full w-full"})}),(0,i.jsxs)("div",{className:"flex w-full flex-col",children:[(0,i.jsx)("div",{className:(0,s.yI)(c.Cj.label1,"text-lg font-medium"),children:p||w("title")}),h&&(0,i.jsx)("div",{className:(0,s.yI)(c.Cj.label2,"mt-2 text-sm"),children:h}),(0,i.jsxs)("div",{className:"mt-8 flex items-center justify-end space-x-4 text-sm font-medium",children:[(0,i.jsx)(d.z,{className:(0,s.yI)("cursor-pointer rounded-lg px-4 py-[5px]",c.Cj.label2,c.Cj.fill3,c.Cj.fill2Hover,N),onClick:I,children:b||w("cancelBtn")}),(0,i.jsx)(d.z,{loading:o,disabled:o,className:(0,s.yI)("cursor-pointer rounded-lg px-4 py-[5px]",c.Cj.labelWhite,k.confirmBtnCls,g),onClick:j,children:y||w("confirmBtn")})]})]})]})}),document.querySelector("#modal-root"))},p={visible:!1,title:"",confirmText:"",icon:void 0,iconClassName:"",confirmBtn:"",confirmBtnCls:"",onConfirm:function(){return null},cancelBtn:"",cancelBtnCls:"",onCancel:function(){return null}},h=function(e,n){switch(n.type){case"update":return(0,o.Z)({},e,n.payload);case"reset":return p;default:throw new Error}},x=function(e){var n=(0,a.useReducer)(h,(0,o.Z)({},p,e)),t=n[0],l=n[1],r=(0,a.useCallback)((function(e){return l({type:"update",payload:e})}),[l]),s=(0,a.useCallback)((function(){return l({type:"reset"})}),[l]),c=(0,a.useCallback)((function(){return l({type:"update",payload:{visible:!0}})}),[l]),u=(0,a.useCallback)((function(){return l({type:"update",payload:{visible:!1}})}),[l]);return(0,a.useEffect)((function(){return r({onCancel:u})}),[r,u]),{modal:(0,i.jsx)(f,(0,o.Z)({},t)),control:(0,a.useMemo)((function(){return{update:r,reset:s,show:c,hide:u}}),[r,s,c,u]),visible:t.visible,update:r,reset:s,show:c,hide:u}}},86816:function(e,n,t){"use strict";t.d(n,{I:function(){return a}});var o=t(10253),i=t(67294);function a(e){var n=e.onTriggered,t=e.disableClick,a=e.disableTouch,l=e.disableKeys,r=e.allowAnyKey,s=e.triggerKeys,c=(0,i.useRef)(null),u=(0,i.useCallback)((function(e){r?n(e):s?s.includes(e.key)&&n(e):"Escape"===e.key&&n(e)}),[r,s,n]),d=(0,i.useCallback)((function(e){c&&c.current&&(c.current.contains(e.target)||null===n||void 0===n||n(e))}),[c,n]),m=(0,i.useMemo)((function(){return[[t,"click",d],[a,"touchstart",d],[l,"keyup",u]]}),[t,a,l,d,u]);return(0,i.useEffect)((function(){return m.forEach((function(e){var n=(0,o.Z)(e,3),t=n[0],i=n[1],a=n[2];t||document.addEventListener(i,a)})),function(){m.forEach((function(e){var n=(0,o.Z)(e,3),t=n[0],i=n[1],a=n[2];t||document.removeEventListener(i,a)}))}}),[m]),c}},11491:function(e,n,t){"use strict";t.d(n,{X:function(){return i}});var o=t(67294),i=function(){var e=(0,o.useState)(!1),n=e[0],t=e[1],i=(0,o.useState)(null),a=i[0],l=i[1],r=function(){return t(!0)},s=function(){return t(!1)};return(0,o.useEffect)((function(){if(a)return a.addEventListener("mouseover",r),a.addEventListener("mouseleave",s),function(){a.removeEventListener("mouseover",r),a.removeEventListener("mouseleave",s)}}),[a]),[l,n]}},24955:function(e,n,t){"use strict";t.d(n,{v:function(){return i}});var o=t(50632),i=function(e){var n,t=(0,o.U)().data;return e===(null===t||void 0===t||null===(n=t.userStatus)||void 0===n?void 0:n.username)}},45404:function(e,n,t){"use strict";t.d(n,{q:function(){return c}});var o=t(85893),i=t(99875),a=t.n(i),l=t(67294),r="/_next/static/images/default_avatar-e9984af6de73f121d0e6801af2749ca5.jpg",s=t(73986),c=l.forwardRef((function(e,n){var t=e.src,i=void 0===t?"":t,l=e.alt,c=void 0===l?"avatar":l,u=e.className;return(0,o.jsx)(s.y,{ref:n,src:i||r,alt:c,errPlaceholder:r,className:a()("rounded-1/2 object-cover",u)})}))},71185:function(e,n,t){"use strict";t.d(n,{Z:function(){return Ct}});var o=t(47568),i=t(26042),a=t(69396),l=t(70655),r=t(85893),s=t(67294),c=t(11321),u=t(52653),d=t(88525),m=t(65854),v=t(33813),f=function(e){return 1===e?u.i6.Up:-1===e?u.i6.Down:u.i6.None},p=u.f.Best;var h=function(e){var n=e.topicId,t=e.orderBy,o=void 0===t?p:t,i=e.pageNo,a=void 0===i?1:i,l=e.numPerPage,r=void 0===l?10:l;return d.zCE.getKey({topicId:n,orderBy:o,pageNo:a,numPerPage:r})};var x,C=function(e,n){var t=e.isDiscuss,o=e.topicId,i=e.orderBy,a=void 0===i?p:i,l=e.pageNo,r=void 0===l?1:l,s=e.numPerPage,c=void 0===s?10:s,u=n.enabled,h=d.zCE.getKey({topicId:o,pageNo:r,numPerPage:c,orderBy:a});return(0,d.zCE)(m.f6,{topicId:o,pageNo:r,numPerPage:c,orderBy:a},{enabled:u,select:function(e){var n=e.topicComments||{},o=n.data,i=n.totalNum;if(!o)return{total:i||0,comments:[]};var a=o.map((function(e){var n,o,i,a,l,r,s,c,u,d,m,p;return{id:e.id,pinned:e.pinned||!1,content:(0,v.pC)(e.post.content),pinnedBy:{username:(null===(n=e.pinnedBy)||void 0===n?void 0:n.username)||""},postId:e.post.id,voteCount:e.post.voteCount,voteStatus:f(e.post.voteStatus||0),status:e.post.status,isHidden:e.post.isHidden||!1,creationDate:e.post.creationDate||0,isDiscussAdmin:(null===(o=e.post.author)||void 0===o?void 0:o.isDiscussAdmin)||!1,isDiscussStaff:(null===(i=e.post.author)||void 0===i?void 0:i.isDiscussStaff)||!1,userAvatar:(null===(a=e.post.author)||void 0===a?void 0:a.profile.userAvatar)||"",username:(null===(l=e.post.author)||void 0===l?void 0:l.username)||"",isActive:(null===(r=e.post.author)||void 0===r?void 0:r.isActive)||!1,nameColor:(null===(s=e.post.author)||void 0===s?void 0:s.nameColor)||"",activeBadgeIcon:(null===(c=e.post.author)||void 0===c||null===(u=c.activeBadge)||void 0===u?void 0:u.icon)||"",activeBadgeName:(null===(d=e.post.author)||void 0===d||null===(m=d.activeBadge)||void 0===m?void 0:m.displayName)||"",queryKey:h,isOwnPost:e.post.isOwnPost||!1,numChildren:e.numChildren,intentionTag:t?null===(p=e.intentionTag)||void 0===p?void 0:p.slug:void 0,ipRegion:""}}));return{total:i||0,comments:a}}})},y=function(e,n){var t=e.topicId,o=void 0===t?0:t,l=e.commentId,r=void 0===l?0:l,s=e.orderBy;return(0,d.e63)(m.f6,{topicId:o,commentId:r,orderBy:s},(0,a.Z)((0,i.Z)({},n),{select:function(e){if(!(null===e||void 0===e?void 0:e.commentContext))return null;var n=JSON.parse(e.commentContext),t=n.pageNo,o=n.parentId;return{pageNo:Number(t),parentCommentId:Number(o)}}}))},g=t(50632),j=t(84945),b=t(39008),N=t(46922),I=t(84004),w=t(51797),k=t(29297),S=t(73975),Z=t(10253),T=t(27503),q=t(29234),R=function(){var e=(0,s.useState)({visible:!1,comment:void 0}),n=e[0],t=e[1];return[n,(0,s.useCallback)((function(e){return t((function(n){return(0,i.Z)({},n,e)}))}),[t])]},_=t(14924),B=t(11355),L=function(e){var n=e.commentId;return d.EcN.getKey({commentId:n})},M=function(e,n,t){if(!t)return n?e.slice(0,n):e;var o=e.findIndex((function(e){return e.id===t}));return e.slice(0,o+1)},D=function(e,n){var t=e.commentId,o=e.pageNo,l=e.numPerPage,r=e.upToReplyId,s=d.EcN.getKey({commentId:t});return(0,d.EcN)(m.f6,{commentId:t},(0,a.Z)((0,i.Z)({},n),{select:function(e){var n=e.commentReplies||[];if(!(null===n||void 0===n?void 0:n.length))return{total:0,comments:[]};var t=n.map((function(e){var n,t,o,i,a,l,r,c,u,d,m;return{id:e.id,pinned:e.pinned||!1,content:(0,v.pC)(e.post.content),pinnedBy:{username:(null===(n=e.pinnedBy)||void 0===n?void 0:n.username)||""},voteCount:e.post.voteCount,voteStatus:f(e.post.voteStatus||0),status:e.post.status,isHidden:e.post.isHidden||!1,postId:e.post.id,creationDate:e.post.creationDate||0,isDiscussAdmin:(null===(t=e.post.author)||void 0===t?void 0:t.isDiscussAdmin)||!1,isDiscussStaff:(null===(o=e.post.author)||void 0===o?void 0:o.isDiscussStaff)||!1,userAvatar:(null===(i=e.post.author)||void 0===i?void 0:i.profile.userAvatar)||"",username:(null===(a=e.post.author)||void 0===a?void 0:a.username)||"",isActive:(null===(l=e.post.author)||void 0===l?void 0:l.isActive)||!1,nameColor:(null===(r=e.post.author)||void 0===r?void 0:r.nameColor)||"",activeBadgeIcon:(null===(c=e.post.author)||void 0===c||null===(u=c.activeBadge)||void 0===u?void 0:u.icon)||"",activeBadgeName:(null===(d=e.post.author)||void 0===d||null===(m=d.activeBadge)||void 0===m?void 0:m.displayName)||"",queryKey:s,isOwnPost:e.post.isOwnPost||!1,numChildren:0,ipRegion:""}})),i=void 0!==l?l*(o||1):0;return{total:t.length,comments:M(t,i,r)}}}))},E=t(6919),H=t(24955),A=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e){var t=e.value.length||0;e.setSelectionRange(t,t),n?setTimeout((function(){return e.focus()}),n):e.focus()}},P=t(17832),O=t(43955),G=t(9770),z=t(11491),Q=t(75117),V=t(7649),F=t(85945);!function(e){e.QuestionComment="questionDiscussComments",e.Reply="commentReplies"}(x||(x={}));var $=function(e){var n=e.postId,t=e.commentId,o=e.changeComment,l=e.queryClient,r=e.key;l.setQueryData(r,(function(e){var l=function(e,n){switch(e[0]){case x.QuestionComment:var t;return(null===n||void 0===n||null===(t=n.topicComments)||void 0===t?void 0:t.data)||[];case x.Reply:return(null===n||void 0===n?void 0:n.commentReplies)||[]}}(r,e),s=null===l||void 0===l?void 0:l.map((function(e){return e.post.id===n||e.id===t?o(e):e})),c=function(e,n,t){switch(e[0]){case x.QuestionComment:return{topicComments:(0,a.Z)((0,i.Z)({},t.topicComments),{data:n})};case x.Reply:return{commentReplies:n}}}(r,s,e);return(0,i.Z)({},c)}))};var K=function(e){var n=(0,F.NL)();return(0,d.sbl)(m.f6,{onSuccess:function(t,o){var l,r;!function(e){var n=e.postId,t=e.voteStatus,o=e.queryClient,l=e.key;$({postId:n,changeComment:function(e){var n=(0,i.Z)({},e);return n.post=(0,a.Z)((0,i.Z)({},n.post),{voteCount:e.post.voteCount+(t-e.post.voteStatus),voteStatus:t}),n},queryClient:o,key:l})}({postId:o.postId,voteStatus:(null===(l=t.votePost)||void 0===l||null===(r=l.post)||void 0===r?void 0:r.voteStatus)||0,queryClient:n,key:e})}})},U=t(27459),W=t(72230),Y=t(80947),J=t(88088),X=t(38535),ee=t(20152),ne=function(e){var n,t,o=e.voteCount,i=e.disabled,a=e.isMyself,l=e.hasLike,s=e.onLikeClick,c=e.hasDislike,u=e.onDislikeClick,d=i||a;return(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(ee.E,{label:(0,U.ZP)(o),labelClassName:(0,w.yI)("cursor-pointer",q.Cj.label3,q.Cj.label2Hover),disabled:d,onIconClick:s,icon:l?W.V:Y.X,iconClassName:(0,w.yI)("w-[18px] h-[18px] cursor-pointer",(n={},(0,_.Z)(n,"".concat(q.Cj.label4),!l&&d),(0,_.Z)(n,"".concat(q.Cj.labelGrey6," ").concat(q.Cj.labelGrey7Hover),!l&&!d),(0,_.Z)(n,"".concat(q.Cj.labelGreenStandard," ").concat(q.Cj.labelGreenStandardHover," "),l),n)),className:(0,w.yI)("gap-2 transition-colors")}),(0,r.jsx)(ee.E,{disabled:d,onIconClick:u,icon:c?J.E:X.v,className:(0,w.yI)("transition-colors"),iconClassName:(0,w.yI)("w-[18px] h-[18px] cursor-pointer",(t={},(0,_.Z)(t,"".concat(q.Cj.label4),!c&&d),(0,_.Z)(t,"".concat(q.Cj.labelGrey6," ").concat(q.Cj.labelGrey7Hover),!c&&!d),(0,_.Z)(t,"".concat(q.Cj.labelGrey7," ").concat(q.Cj.labelGrey7Hover," "),c),t))})]})},te=t(37906);function oe(e,n){var t=n.type,o=n.payload;switch(t){case"resetState":return(0,a.Z)((0,i.Z)({},e),{topicId:null,highlightedCommentId:void 0,parentOfHighlightedCommentId:void 0});case"setIntentionTags":return(0,a.Z)((0,i.Z)({},e),{tagNamesMap:new Map(o.map((function(e){return[e.slug,e.name]})))});default:return(0,a.Z)((0,i.Z)({},e),(0,_.Z)({},t,o))}}var ie={topicId:null,isModerator:!1,highlightedCommentId:void 0,parentOfHighlightedCommentId:void 0,layoutType:te.Dk.Discuss,commentsTopAnchor:null,tagNamesMap:new Map,content:"",intentionTag:void 0,panelSide:"left",panelIsSmall:!1,containerDom:null,questionSlug:void 0},ae=(0,s.createContext)({state:ie,dispatch:function(){return null}});function le(){return(0,s.useContext)(ae)}var re,se,ce,ue=function(e){var n=e.children,t=e.value,o=(0,s.useReducer)(oe,(0,i.Z)({},ie,t)),a=o[0],l=o[1],c=(0,s.useMemo)((function(){return{state:a,dispatch:l}}),[a]);return(0,r.jsx)(ae.Provider,{value:c,children:n})};!function(e){e.QdSolutionTab="QD_Solution_Tab",e.QdDiscussTab="QD_Discuss_Tab",e.QdSolutionTabComment="QD_Solution_Tab_comment",e.QdDiscussTabComment="QD_Discuss_Tab_comment",e.QdSolutionTabReply="QD_Solution_Tab_reply",e.QdDiscussTabReply="QD_Discuss_Tab_reply"}(re||(re={})),function(e){e.Comment="comment",e.Reply="reply"}(se||(se={})),function(e){e.SolutionTab="solution_tab",e.DiscussTab="discuss_tab",e.DescriptionTab="description_tab"}(ce||(ce={}));var de=function(e){switch(e){case te.Dk.Solution:case te.Dk.OfficialSolution:return ce.SolutionTab;case te.Dk.Discuss:return ce.DiscussTab;case te.Dk.Description:return ce.DescriptionTab;default:return""}},me=function(e){var n,t,o,i,a,l,d=e.comment,m=e.isMyself,v=e.trackingCommentType,f=(0,c.$G)("comments").t,p=K(d.queryKey),h=p.mutateAsync,x=p.isLoading,C=Boolean(null===(n=(0,g.U)())||void 0===n||null===(t=n.data)||void 0===t||null===(o=t.userStatus)||void 0===o?void 0:o.isSignedIn),y=Boolean(null===(i=(0,g.U)())||void 0===i||null===(a=i.data)||void 0===a||null===(l=a.userStatus)||void 0===l?void 0:l.isVerified),b=le().state,I=b.layoutType,S=b.questionSlug,Z=d.voteCount,T=d.voteStatus,R=d.postId,_=(0,s.useCallback)((function(){return C?y||j.y.error((0,r.jsxs)("span",{children:[f("youMust")," ",(0,r.jsx)("a",{href:V.Hb.profileHome(),target:"_blank",rel:"noreferrer",className:(0,w.yI)(q.Cj.labelBlueStandard),children:f("verifyYourEmail")})," ",f("first"),"."]}),{itemClassName:q.Cj.bgLayer3}):j.y.error(f("common:loginRequired"),{itemClassName:q.Cj.bgLayer3}),C&&y}),[C,y,f]),B=(0,s.useCallback)((function(e){_()&&h({postId:R,voteStatus:e}).then((function(n){var t,o;(null===n||void 0===n||null===(t=n.votePost)||void 0===t?void 0:t.ok)?S&&(1===e&&k.d.qdUpVoteCommentClick({qd_version:N.AQ,qd_question_slug:S,qd_comment_pos:de(I),qd_comment_type:v}),-1===e&&k.d.qdDownVoteCommentClick({qd_version:N.AQ,qd_question_slug:S,qd_comment_pos:de(I),qd_comment_type:v})):j.y.error((null===n||void 0===n||null===(o=n.votePost)||void 0===o?void 0:o.error)||f("somethingWentWrong"),{itemClassName:q.Cj.bgLayer3})}))}),[_,h,R,f,I,S,v]),L=[T===u.i6.Up,T===u.i6.Down],M=L[0],D=L[1],E=(0,s.useCallback)((function(){B(M?0:1)}),[B,M]),H=(0,s.useCallback)((function(){B(D?0:-1)}),[B,D]);return(0,r.jsx)(ne,{disabled:x,isMyself:m,hasLike:M,onLikeClick:E,hasDislike:D,onDislikeClick:H,voteCount:Z})},ve=t(90908),fe=function(e){var n=e.onClick,t=e.showReplies,o=e.showLabel,i=e.repliesNum,a=void 0===i?0:i,l=(0,c.$G)("comments").t,s=String((0,U.ZP)(a)),u=o?t?l("hideReplies"):l("showReplies",{num:s}):"".concat(s);return a<1?null:(0,r.jsx)(ee.E,{label:u,icon:ve.f,iconClassName:(0,w.yI)("w-4.5 h-4.5",q.Cj.labelGrey6,q.Cj.labelGrey7GroupHover),labelClassName:(0,w.yI)(q.Cj.label3,q.Cj.label2GroupHover),className:(0,w.yI)("group shrink-0 cursor-pointer transition-colors"),onClick:n})},pe=s.forwardRef((function(e,n){return(0,r.jsx)("svg",(0,a.Z)((0,i.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M5.83 2.106c.628-.634 1.71-.189 1.71.704v2.065c4.821.94 6.97 4.547 7.73 8.085l-.651.14.652-.134c.157.757-.83 1.192-1.284.565l-.007-.009c-1.528-2.055-3.576-3.332-6.44-3.502v2.352c0 .893-1.082 1.338-1.71.704L1.091 8.295a1 1 0 010-1.408l4.737-4.78zm7.303 8.617C12.08 8.495 10.204 6.68 7.046 6.14c-.47-.08-.84-.486-.84-.99V3.62L2.271 7.591l3.934 3.971V9.667a.993.993 0 011.018-.995c2.397.065 4.339.803 5.909 2.051z",clipRule:"evenodd"})}))})),he=function(e){var n=e.onClick,t=e.showLabel,o=(0,c.$G)("comments").t;return(0,r.jsx)(ee.E,{onClick:n,label:t?o("reply"):void 0,icon:pe,iconClassName:(0,w.yI)("w-4.5 h-4.5",q.Cj.labelGrey6,q.Cj.labelGrey7GroupHover),labelClassName:(0,w.yI)(q.Cj.label3,q.Cj.label2GroupHover),className:(0,w.yI)("group cursor-pointer gap-1 transition-colors")})},xe=t(81117),Ce=function(e){var n=e.isOwnPost,t=e.onClick,o=e.showLabel,i=(0,c.$G)("comments").t;return le().state.isModerator||n?(0,r.jsx)(ee.E,{onClick:t,label:o?i("edit"):void 0,icon:xe.P,iconClassName:(0,w.yI)("w-4.5 h-4.5",q.Cj.labelGrey6,q.Cj.labelGrey7GroupHover),labelClassName:(0,w.yI)(q.Cj.label3,q.Cj.label2GroupHover),className:(0,w.yI)("group cursor-pointer gap-1 transition-colors")}):null},ye=t(94312),ge=t(62611),je=function(e){var n=e.commentId,t=e.showLabel,o=e.onShareClick,i=(0,c.$G)("comments").t,a=(0,Z.Z)((0,ye.c)(window.location.href,{successDuration:1e3}),2),l=a[0],u=a[1],d=le().state.layoutType;(0,s.useEffect)((function(){l&&j.y.success(i("shareCopySuccess"),{itemClassName:q.Cj.bgLayer3})}),[l,i]);var m=(0,s.useCallback)((function(){var e=function(e){var n=window.location.href.includes("/comments/")?"".concat(window.location.href.split("/comments/")[0],"/"):window.location.href.split("?")[0];return e!==te.Dk.Description||n.includes("/description/")?n:"".concat(n,"description/")}(d);u("".concat(e,"comments/").concat(n)),o&&o()}),[d,u,n,o]);return(0,r.jsxs)("div",{className:(0,w.yI)("group flex cursor-pointer items-center space-x-1"),onClick:m,children:[(0,r.jsx)("span",{children:(0,r.jsx)(ge.Q,{className:(0,w.yI)(q.Cj.labelGrey6,q.Cj.labelGrey7GroupHover,"h-4.5 w-4.5")})}),t&&(0,r.jsx)("span",{className:(0,w.yI)(q.Cj.label3,q.Cj.label2GroupHover),children:i("share")})]})},be=function(){return(0,d.YxC)(m.f6)},Ne=t(26440),Ie=function(e){var n=e.comment,t=e.updateModal,o=(0,c.$G)("comments").t,l=(0,F.NL)(),u=be().mutateAsync,d=n.pinned,m=o(d?"unpin":"pin"),v=(0,s.useCallback)((function(){t({loading:!0}),u({commentId:n.id,pinned:!d}).then((function(e){var r,s,c,u,d,m;if(null===(r=e.togglePinComment)||void 0===r?void 0:r.ok){var v=!!(null===(s=e.togglePinComment)||void 0===s||null===(c=s.comment)||void 0===c?void 0:c.pinned),f=(null===(u=e.togglePinComment)||void 0===u||null===(d=u.comment)||void 0===d||null===(m=d.pinnedBy)||void 0===m?void 0:m.username)||"";j.y.success(o(v?"pinSuccess":"unpinSuccess"),{itemClassName:q.Cj.bgLayer3}),function(e){var n=e.commentId,t=e.pinned,o=e.pinnedByUsername,l=e.queryClient,r=e.key;$({commentId:n,changeComment:function(e){var n=(0,i.Z)({},e);return n.pinned=t,n.pinnedBy=(0,a.Z)((0,i.Z)({},n.pinnedBy),{username:o}),n},queryClient:l,key:r})}({commentId:n.id,pinned:v,pinnedByUsername:f,queryClient:l,key:n.queryKey}),t({loading:!1,visible:!1})}else{var p;j.y.error((null===(p=e.togglePinComment)||void 0===p?void 0:p.error)||o("somethingWentWrong"),{itemClassName:q.Cj.bgLayer3})}}))}),[t,u,l,d,n.id,n.queryKey,o]),f=(0,s.useCallback)((function(){t({visible:!0,variant:"info",confirmText:o(d?"confirmUnpinComment":"confirmPinComment"),confirmBtn:o(d?"unpin":"pin"),onConfirm:v})}),[t,v,d,o]);return(0,r.jsx)(Ne.T,{onClick:f,children:m})},we=function(e){var n=(0,F.NL)();return(0,d.xim)(m.f6,{onSuccess:function(t,o){var l,r;!function(e){var n=e.postId,t=e.isHidden,o=e.queryClient,l=e.key;$({postId:n,changeComment:function(e){var n=(0,i.Z)({},e);return n.post=(0,a.Z)((0,i.Z)({},n.post),{isHidden:t}),n},queryClient:o,key:l})}({postId:o.postId,isHidden:!!(null===(l=t.hidePost)||void 0===l||null===(r=l.post)||void 0===r?void 0:r.isHidden),queryClient:n,key:e})}})},ke=function(e){var n=e.comment,t=e.updateModal,o=(0,c.$G)("comments").t,i=we(n.queryKey).mutateAsync,a=n.isHidden,l=o(a?"showComment":"hideComment"),u=(0,s.useCallback)((function(){t({loading:!0}),i({postId:n.postId,hide:!a,id:n.id}).then((function(e){if("hidePost"in e){var n,i,l,r;if(!(null===(n=e.hidePost)||void 0===n?void 0:n.ok))return void j.y.error((null===(r=e.hidePost)||void 0===r?void 0:r.error)||o("somethingWentWrong"),{itemClassName:q.Cj.bgLayer3});var s=!!(null===(i=e.hidePost)||void 0===i||null===(l=i.post)||void 0===l?void 0:l.isHidden);j.y.success(o(s?"hideSuccess":"showSuccess"),{itemClassName:q.Cj.bgLayer3})}else j.y.success(o(a?"showSuccess":"hideSuccess"),{itemClassName:q.Cj.bgLayer3});t({loading:!1,visible:!1})}))}),[t,i,n.postId,n.id,a,o]),d=(0,s.useCallback)((function(){t({visible:!0,variant:a?"info":"danger",confirmText:o(a?"confirmShowComment":"confirmHideComment"),confirmBtn:o(a?"showComment":"hideComment"),onConfirm:u})}),[t,u,a,o]);return(0,r.jsx)(Ne.T,{onClick:d,children:l})},Se=function(e){var n=e.postId,t=e.queryClient,o=e.key,l=e.parentKey,r=e.topicId;t.invalidateQueries(o),t.invalidateQueries(["tabsStatus"]),l&&t.invalidateQueries(l);$({postId:n,changeComment:function(e){var n=(0,i.Z)({},e);return n.post.status=E.$4.Deleted,n.post.isHidden=!0,n},queryClient:t,key:o}),r&&t.setQueryData(["communitySolution",{topicId:r}],(function(e){var n;return(0,a.Z)((0,i.Z)({},e),{topic:(0,a.Z)((0,i.Z)({},null===e||void 0===e?void 0:e.topic),{topLevelCommentCount:(null===e||void 0===e||null===(n=e.topic)||void 0===n?void 0:n.topLevelCommentCount)-1})})}))},Ze=function(){return(0,d.soE)(m.f6)},Te=function(e){var n=e.postId,t=e.queryClient,o=e.key,l=e.status;$({postId:n,changeComment:function(e){var n=(0,i.Z)({},e);return n.post=(0,a.Z)((0,i.Z)({},n.post),{status:l,isHidden:!1}),n},queryClient:t,key:o})},qe=function(){return(0,d.xxG)(m.f6)},Re=function(e){var n=e.comment,t=e.parentComment,o=e.topicId,i=e.updateModal,a=(0,c.$G)("comments").t,l=(0,F.NL)(),u=Ze().mutateAsync,d=qe().mutateAsync,m=n.status===E.$4.Deleted,v=a(m?"restore":"delete"),f=(0,s.useCallback)((function(){i({loading:!0}),m?d({commentId:n.id}).then((function(e){var t,o,r;if(null===(t=e.approveComment)||void 0===t?void 0:t.ok){j.y.success(a("restoreSuccess"),{itemClassName:q.Cj.bgLayer3});var s=(null===(o=e.approveComment)||void 0===o||null===(r=o.post)||void 0===r?void 0:r.status)||E.$4.All;Te({postId:n.postId,queryClient:l,key:n.queryKey,status:s}),i({loading:!1,visible:!1})}else{var c;j.y.error(!(null===(c=e.approveComment)||void 0===c?void 0:c.error)||a("deleteCommentError"),{itemClassName:q.Cj.bgLayer3})}})):u({commentId:n.id}).then((function(e){var r,s;(null===(r=e.deleteComment)||void 0===r?void 0:r.ok)?(j.y.success(a("deleteSuccess"),{itemClassName:q.Cj.bgLayer3}),Se({postId:n.postId,queryClient:l,key:n.queryKey,parentKey:null===t||void 0===t?void 0:t.queryKey,topicId:o}),i({loading:!1,visible:!1})):j.y.error(!(null===(s=e.deleteComment)||void 0===s?void 0:s.error)||a("deleteCommentError"),{itemClassName:q.Cj.bgLayer3})}))}),[i,u,d,l,m,n.id,n.postId,n.queryKey,null===t||void 0===t?void 0:t.queryKey,o,a]),p=(0,s.useCallback)((function(){i({visible:!0,variant:m?"info":"danger",confirmText:a(m?"confirmRestoreComment":"confirmDeleteComment"),confirmBtn:a(m?"restore":"delete"),onConfirm:f})}),[i,f,m,a]);return(0,r.jsx)(Ne.T,{onClick:p,children:v})},_e=function(e){var n,t=e.comment,o=e.updateConfirmModal,i=e.updateReportModal,a=e.updateMoveToSolutionsModal,l=e.isPinnable,u=void 0===l||l,d=(0,c.$G)("comments").t,m=(0,O.r)().isSignedIn,v=(0,s.useCallback)((function(){m?i({visible:!0,comment:t}):j.y.error(d("common:loginRequired"))}),[m,i,t,d]),f=(0,s.useCallback)((function(){a({visible:!0,comment:t})}),[a,t]),p=(0,w.yI)((n={},(0,_.Z)(n,"opacity-1",!t.isHidden&&t.status!==E.$4.Deleted),(0,_.Z)(n,"opacity-40",t.isHidden||t.status===E.$4.Deleted),n)),h=le().state.isModerator;return!h&&t.isOwnPost?null:(0,r.jsxs)(Ne.l,{btnClassName:(0,w.yI)("w-4.5 h-4.5",p),iconClassName:"w-4.5 h-4.5",children:[h&&u&&Q.Oo&&(0,r.jsx)(Ie,{comment:t,updateModal:o}),h&&(0,r.jsx)(ke,{comment:t,updateModal:o}),!t.isOwnPost&&(0,r.jsx)(Ne.T,{onClick:v,children:d("report")}),h&&(0,r.jsx)(Re,{comment:t,updateModal:o}),h&&Q.Oo&&(0,r.jsx)(Ne.T,{onClick:f,children:d("move")})]})},Be=t(19913),Le=t(38488),Me=function(e){var n=e.status,t=e.isHidden,o=(0,c.$G)("comments").t,i=le().state.isModerator,a=t?o("hidden"):n;return i?(0,r.jsx)("div",{className:(0,w.yI)(q.Cj.label4,"text-xs capitalize"),children:a}):null},De=t(25132),Ee=t(7367),He=function(e){var n=e.comment,t=e.parentComment,o=e.topicId,i=e.updateModal,a=(0,c.$G)("comments").t,l=(0,F.NL)(),u=Ze().mutateAsync,d=qe().mutateAsync,m=n.status===E.$4.Deleted,v=(0,s.useMemo)((function(){return m?De.H:Ee.j}),[m]),f=(0,s.useCallback)((function(){i({loading:!0}),m?d({commentId:n.id}).then((function(e){var t,o,r;if(null===(t=e.approveComment)||void 0===t?void 0:t.ok){j.y.success(a("restoreSuccess"),{itemClassName:q.Cj.bgLayer3});var s=(null===(o=e.approveComment)||void 0===o||null===(r=o.post)||void 0===r?void 0:r.status)||E.$4.All;Te({postId:n.postId,queryClient:l,key:n.queryKey,status:s}),i({loading:!1,visible:!1})}else{var c;j.y.error(!(null===(c=e.approveComment)||void 0===c?void 0:c.error)||a("deleteCommentError"),{itemClassName:q.Cj.bgLayer3})}})):u({commentId:n.id}).then((function(e){var r,s;(null===(r=e.deleteComment)||void 0===r?void 0:r.ok)?(j.y.success(a("deleteSuccess"),{itemClassName:q.Cj.bgLayer3}),Se({postId:n.postId,queryClient:l,key:n.queryKey,parentKey:null===t||void 0===t?void 0:t.queryKey,topicId:o}),i({loading:!1,visible:!1})):j.y.error(!(null===(s=e.deleteComment)||void 0===s?void 0:s.error)||a("deleteCommentError"),{itemClassName:q.Cj.bgLayer3})}))}),[i,u,d,l,m,n.id,n.postId,n.queryKey,null===t||void 0===t?void 0:t.queryKey,o,a]),p=a(m?"restore":"delete"),h=(0,s.useCallback)((function(){i({visible:!0,variant:m?"info":"danger",confirmText:a(m?"confirmRestoreComment":"confirmDeleteComment"),confirmBtn:a(m?"restore":"delete"),onConfirm:f})}),[i,f,m,a]);return(0,r.jsx)(ee.E,{onClick:h,icon:v,label:p,labelClassName:(0,w.yI)(q.M$.label1Group),iconClassName:(0,w.yI)(q.M$.labelGrey7Group,"h-4.5 w-4.5"),className:(0,w.yI)("group cursor-pointer gap-1")})},Ae=t(29815),Pe=function(e){var n=e.comment,t=e.queryClient,o=e.key,l=e.parentComment,r=e.questionSlug,s=e.topicId;r&&t.invalidateQueries(d.YyS.getKey({titleSlug:r}));var c=o[0]===x.QuestionComment?x.QuestionComment:x.Reply;if(c===x.QuestionComment){var m=o[1];[u.f.Best,u.f.MostVotes,u.f.NewestToOldest,u.f.OldestToNewest].filter((function(e){return e!==m.orderBy})).forEach((function(e){t.invalidateQueries([x.QuestionComment,(0,a.Z)((0,i.Z)({},m),{orderBy:e})])}))}var v=[o[0],(0,a.Z)((0,i.Z)({},o[1]),{pageNo:1})],f=c===x.QuestionComment?v:o;t.setQueryData(f,(function(e){var t,o,a=e?c===x.QuestionComment?null===e||void 0===e||null===(t=e.topicComments)||void 0===t?void 0:t.data:null===e||void 0===e?void 0:e.commentReplies:[],l=[n].concat((0,Ae.Z)(a)),r=c===x.QuestionComment?{topicComments:{data:l,totalNum:((null===e||void 0===e||null===(o=e.topicComments)||void 0===o?void 0:o.totalNum)||0)+1}}:{commentReplies:l};return(0,i.Z)({},r)})),l&&t.setQueryData(l.queryKey,(function(e){var n,t=(e?null===e||void 0===e||null===(n=e.topicComments)||void 0===n?void 0:n.data:[]).map((function(e){return e.id===l.id?(0,a.Z)((0,i.Z)({},e),{numChildren:e.numChildren+1}):e})),o=(0,a.Z)((0,i.Z)({},e),{topicComments:(0,a.Z)((0,i.Z)({},null===e||void 0===e?void 0:e.topicComments),{data:t})});return(0,i.Z)({},o)})),s&&t.setQueryData(["communitySolution",{topicId:s}],(function(e){var n;return(0,a.Z)((0,i.Z)({},e),{topic:(0,a.Z)((0,i.Z)({},null===e||void 0===e?void 0:e.topic),{topLevelCommentCount:(null===e||void 0===e||null===(n=e.topic)||void 0===n?void 0:n.topLevelCommentCount)+1})})}))},Oe=function(){return(0,d.sHn)(m.f6)},Ge=function(e){var n=e.commentId,t=e.content,o=e.queryClient,l=e.key;$({commentId:n,changeComment:function(e){var n=(0,i.Z)({},e);return n.post=(0,a.Z)((0,i.Z)({},n.post),{content:t}),n},queryClient:o,key:l})},ze=function(){return(0,d.oRU)(m.f6)},Qe=function(e){var n=e.matchAll(/\[\@[^\]]+\]\(\/u\/([^/]+)\)/g),t=new Set,o=!0,i=!1,a=void 0;try{for(var l,r=n[Symbol.iterator]();!(o=(l=r.next()).done);o=!0){var s=l.value;(null===s||void 0===s?void 0:s[1])&&t.add(s[1])}}catch(c){i=!0,a=c}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return Array.from(t)},Ve=function(e){var n=e.queryKey,t=e.parentComment,i=e.existingComment,a=e.initialContent,r=e.initialIntentionTag,u=e.saveDraft,d=e.setPageNo,m=(0,c.$G)("comments").t,f=(0,s.useState)((null===i||void 0===i?void 0:i.content)||a||""),p=f[0],h=f[1],x=(0,s.useState)(r||void 0),C=x[0],y=x[1],g=(0,s.useState)(!1),b=g[0],N=g[1],I=le(),w=I.state,k=w.topicId,S=w.questionSlug,Z=I.dispatch,T=Number(k),R=(0,F.NL)(),_=Oe().mutateAsync,B=ze().mutateAsync,L=(0,s.useCallback)((function(e){h(e),u&&Z({type:"content",payload:e})}),[u,Z]),M=(0,s.useCallback)((function(e){y(e),u&&Z({type:"intentionTag",payload:e})}),[u,Z]),D=function(){var e=(0,o.Z)((function(){var e;return(0,l.__generator)(this,(function(o){return b?[2,{ok:!1}]:(N(!0),e=(null===t||void 0===t?void 0:t.id)||0,[2,_({topicId:T,intentionTagSlug:C,parentCommentId:e,content:(0,v.e9)(p),mentionedUserSlugs:Qe(p)}).then((function(e){var o,i,a;if(N(!1),!(null===e||void 0===e||null===(o=e.createComment)||void 0===o?void 0:o.ok)||!(null===e||void 0===e||null===(i=e.createComment)||void 0===i?void 0:i.comment))return j.y.error((null===e||void 0===e||null===(a=e.createComment)||void 0===a?void 0:a.error)||m("somethingWentWrong"),{itemClassName:q.Cj.bgLayer3}),{ok:!1};var l=e.createComment.comment;return j.y.success(m("postSuccess"),{itemClassName:q.Cj.bgLayer3}),Pe({comment:l,queryClient:R,key:n,parentComment:t,questionSlug:S,topicId:T}),L(""),M(void 0),d&&d(1),{ok:!0}}))])}))}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=(0,o.Z)((function(){var e;return(0,l.__generator)(this,(function(t){return b?[2,{ok:!1}]:(N(!0),e=(null===i||void 0===i?void 0:i.id)||0,[2,B({commentId:e,content:p,mentionedUserSlugs:Qe(p)}).then((function(t){var o,i,a,l,r;if(N(!1),!(null===t||void 0===t||null===(o=t.updateComment)||void 0===o?void 0:o.ok)||!(null===t||void 0===t||null===(i=t.updateComment)||void 0===i?void 0:i.comment))return j.y.error((null===t||void 0===t||null===(r=t.updateComment)||void 0===r?void 0:r.error)||m("somethingWentWrong"),{itemClassName:q.Cj.bgLayer3}),{ok:!1};var s=(null===(a=t.updateComment.comment)||void 0===a||null===(l=a.post)||void 0===l?void 0:l.content)||"";return Ge({content:s,commentId:e,queryClient:R,key:n}),{ok:!0}}))])}))}));return function(){return e.apply(this,arguments)}}();return{onSave:D,onEdit:E,isSaving:b,value:p,onCommentChange:L,intentionTag:C,onIntentionTagChange:M}},Fe=t(99534),$e=t(16496),Ke=t.n($e),Ue=t(86816),We=t(98327);var Ye,Je,Xe,en=t(29732),nn=t(23874),tn=function(e,n){return(0,d.YQp)(m.f6,{usernamePrefix:e,topicId:n},{enabled:!!n&&!!e.trim(),select:function(e){return(0,en.Z)(e.topicUsers).map((function(e){return{username:e.username,name:e.profile.realName||e.username,userAvatar:e.profile.userAvatar||"",userSlug:e.profile.userSlug||""}}))}})},on=t(45404),an=function(e){var n=e.user,t=e.active,o=e.onSelect,i=(0,s.useRef)(null);return(0,s.useEffect)((function(){var e;t&&(null===(e=i.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest"}))}),[t]),(0,r.jsxs)("div",{ref:i,onClick:function(){o({insertedContent:"[@".concat(n.name,"](").concat(V.Hb.profile(n.userSlug),")")})},className:(0,w.yI)(q.Cj.fill3Hover,(0,_.Z)({},q.Cj.fill3,t),"flex h-12 cursor-pointer items-center rounded-[5px] px-2 py-1.5"),children:[(0,r.jsx)(on.q,{className:"h-9 w-9",src:n.userAvatar,alt:"avatar"}),(0,r.jsxs)("div",{className:"ml-2",children:[(0,r.jsx)("h3",{children:n.name}),(0,r.jsx)("div",{className:(0,w.yI)(q.Cj.label4,"mt-0.5 text-xs font-medium"),children:n.userSlug})]})]})},ln=function(e){var n=e.users,t=e.selectIndex,o=e.onSelect;return(0,r.jsx)("div",{className:"max-h-[250px] space-y-1 overflow-auto px-2",children:n.map((function(e,n){return(0,r.jsx)(an,{user:e,active:t===n,onSelect:o},e.userSlug)}))})},rn=(0,s.memo)((function(e){var n=e.onBlur,t=e.onSelect,o=e.topicId,i=(0,Ue.I)({onTriggered:n}),a=((0,c.$G)("common",{keyPrefix:"mentions"}).t,function(){var e=(0,s.useRef)(null);return(0,P.L)((function(){setTimeout((function(){e.current&&e.current.focus()}),100)}),[]),e}()),l=(0,s.useState)(0),u=l[0],d=l[1],v=(0,s.useState)(0),f=v[0],p=v[1],h=(0,s.useState)(""),x=h[0],C=h[1],y=tn(x,o||0),g=y.data,j=void 0===g?[]:g,b=y.isFetching,N=function(e,n){var t=n.enabled,o=void 0===t||t;return(0,nn.iSL)(m.f6,{filters:{searchKeywords:e,sortOrder:null,orderBy:null}},{enabled:!!e&&o,select:function(e){return(0,en.Z)(e.problems.questions).map((function(e){return{frontendQuestionId:e.frontendQuestionId,title:e.titleCn||e.title,titleSlug:e.titleSlug,difficulty:e.difficulty}}))}})}(x,{enabled:!Q.Oo}),I=N.data,k=0===f?j:void 0===I?[]:I,S=k.length,Z=function(e){var n=e.onEnter,t=e.onArrowDown,o=e.onArrowUp,i=e.onEscape,a=e.onTab,l=e.onBackSpace;return(0,s.useCallback)((function(e){var r=e.key;switch(!0){case"Enter"===r:return e.preventDefault(),void n();case"ArrowDown"===r:return e.preventDefault(),void t();case"ArrowUp"===r:return e.preventDefault(),void o();case"Escape"===r:return e.preventDefault(),void i();case"Tab"===r:return void a();case"Backspace"===r:return void l(e.currentTarget.value);default:return}}),[n,t,o,i,a,l])}({onEscape:n,onEnter:function(){var e=k[u];t("userSlug"in e?{insertedContent:"[@".concat(e.name,"](").concat(V.Hb.profile(e.userSlug),")")}:{insertedContent:"[".concat(e.frontendQuestionId,". ").concat(e.title,"](").concat(V.Hb.questionDetail(e.titleSlug),")")})},onArrowUp:function(){d((function(e){return(e+S-1)%S}))},onArrowDown:function(){d((function(e){return(e+1)%S}))},onTab:function(){var e;e=function(e){return(e+1)%2},d(0),p(e)},onBackSpace:function(e){e||n()}});return(0,r.jsxs)("div",{ref:i,className:(0,w.yI)("flex w-[250px] flex-col gap-2 rounded-lg py-2 z-base-2",q.eq.dropdown,q.Cj.bgLayer3),children:[(0,r.jsx)("div",{className:"rounded-[5px] px-2",children:(0,r.jsx)(We.I,{ref:a,onKeyDown:Z,value:x,onChange:function(e){return C(e.target.value)}})}),!b&&!!x.trim()&&j.length>0&&(0,r.jsx)(ln,{users:j,selectIndex:u,onSelect:t})]})})),sn=function(e){var n=e.mentionInfo,t=e.hideSelf,o=e.onMentionSelect,i=e.topicId,a=(0,s.useRef)(null),l=(0,s.useRef)(null),c=(0,s.useRef)(!1),u=n.top,d=n.left,m=n.right,v=n.visible,f=(0,s.useCallback)((function(e){var n=e.insertedContent;o(n),t()}),[t,o]);return(0,s.useEffect)((function(){var e=a.current;v&&e&&(e.style.top="".concat(u,"px"),e.style.left=void 0!==d?"".concat(d,"px"):"",e.style.right=void 0!==m?"".concat(m,"px"):"")}),[u,d,m,v]),(0,s.useEffect)((function(){var e=c.current;v&&a.current&&l.current&&!e&&l.current.focus(),c.current=v}),[v]),(0,r.jsx)("div",{ref:a,className:(0,w.yI)("absolute box-content rounded-lg z-base-1",{block:v,hidden:!v}),children:v&&(0,r.jsx)(rn,{onBlur:t,onSelect:f,topicId:i})})};!function(e){e.Full="full",e.Slim="slim"}(Ye||(Ye={})),function(e){e.InlineCode="code-inline",e.CodeBlock="code",e.Link="link",e.BulletList="list",e.NumberList="number-list",e.Mention="@",e.Problem="#"}(Je||(Je={})),function(e){e.User="user",e.Problem="problem"}(Xe||(Xe={}));var cn,un=t(54042),dn=t(95633),mn=t(77318),vn=t(39940),fn=t(67962),pn=s.forwardRef((function(e,n){return(0,r.jsx)("svg",(0,a.Z)((0,i.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{d:"M11.27 6.799l.146-.438c.075-.259.178-.437.308-.534.14-.108.345-.06.615.145.065.054.124.114.178.179a.45.45 0 01.114.226.976.976 0 01.032.373 2.21 2.21 0 01-.13.535l-1.182 3.434c-.054.151-.043.28.032.389a.399.399 0 00.308.146c.087 0 .232-.081.438-.243.205-.173.41-.405.615-.697.216-.292.405-.637.567-1.037a3.63 3.63 0 00.243-1.344c0-.519-.108-1-.324-1.442a3.458 3.458 0 00-.907-1.15 4.033 4.033 0 00-1.345-.778 4.76 4.76 0 00-1.684-.292 4.55 4.55 0 00-1.766.373 5.343 5.343 0 00-2.77 2.738c-.292.659-.438 1.393-.438 2.203 0 .691.13 1.296.389 1.814.26.519.616.95 1.07 1.296.453.335.982.589 1.587.762a7.555 7.555 0 001.96.243 9.97 9.97 0 001.328-.081c.4-.054.783-.151 1.15-.292a5.269 5.269 0 001.07-.6c.345-.258.707-.582 1.085-.971.076-.108.162-.162.26-.162.107-.011.21.01.307.065a.567.567 0 01.243.21.5.5 0 01.13.276.857.857 0 01-.081.55c-.076.162-.26.378-.551.648-.292.27-.61.524-.956.762a6.538 6.538 0 01-1.118.632c-.4.172-.837.307-1.312.405a7.016 7.016 0 01-1.555.162 8.817 8.817 0 01-2.527-.324 6.147 6.147 0 01-2.122-1.021 5.098 5.098 0 01-1.442-1.814c-.357-.735-.535-1.61-.535-2.625 0-1.09.19-2.057.567-2.9.389-.853.891-1.566 1.507-2.138a6.371 6.371 0 012.09-1.328A6.646 6.646 0 019.26 2.7c.875 0 1.674.13 2.398.389.734.259 1.36.62 1.879 1.085.518.465.918 1.02 1.199 1.669.291.648.437 1.36.437 2.138 0 .627-.119 1.237-.356 1.83a5.638 5.638 0 01-.94 1.556c-.389.454-.826.82-1.312 1.102-.486.27-.977.405-1.474.405-.378 0-.675-.087-.891-.26-.216-.172-.378-.437-.486-.793-.346.28-.637.496-.875.648-.238.15-.545.221-.923.21-.443-.01-.8-.102-1.07-.275a1.905 1.905 0 01-.631-.648 2.547 2.547 0 01-.308-.859 5.625 5.625 0 01-.081-.923c0-.465.092-.967.275-1.507.195-.55.46-1.053.794-1.506a4.519 4.519 0 011.247-1.15 2.928 2.928 0 011.62-.47c.227 0 .422.037.584.113.172.076.313.184.42.324.12.13.217.286.292.47.076.173.146.356.211.55zm-2.657 4.374c.324 0 .637-.12.94-.357.313-.248.578-.723.794-1.425.14-.432.243-.746.307-.94.065-.205.103-.373.114-.502.01-.205-.07-.389-.243-.551-.173-.173-.357-.26-.551-.26-.346 0-.659.087-.94.26-.27.173-.502.394-.696.664a3.53 3.53 0 00-.438.907 3.563 3.563 0 00-.178.972c0 .476.092.8.276.972.183.173.388.26.615.26z"})}))})),hn=(0,t(4308).t)({highlight:!0,gfm:!0,math:!0,html:!0,mcqs:Q.Oo,diaporama:Q.Oo,imageSize:!0,embedVideos:Q.Oo,normalVideo:!0,groupedCode:!0,relAttribute:!0,httpsImagesOnly:!0,premiumOnlyVideo:Q.Oo,htmlSanitization:!0,preserveLineBreaks:Q.Oo,nodebbImageTransformation:Q.Oo,brokenImageHolder:!0,linkSift:Q.ob,linkTargetBlank:!0,aliPlayerVideo:Q.ob,slides:Q.ob,toc:!0}),xn=(0,s.memo)((function(e){var n=e.content;return n?(0,r.jsx)(hn,{content:n}):null})),Cn=t(25398),yn=t(9570),gn=function(){return(0,d.ewH)(m.f6,{},{select:function(e){var n=e.intentionTags;return n||[]}})},jn=t(36258),bn=function(e){var n=e.intentionTag,t=e.setIntentionTag,o=(0,c.$G)("comments").t,i=gn().data,a=le().dispatch;(0,s.useEffect)((function(){return i&&a({type:"setIntentionTags",payload:i})}),[a,i]);var l=(0,s.useMemo)((function(){return(null!==i&&void 0!==i?i:[]).map((function(e){return{value:e.slug,text:e.name}}))}),[i]),u=(0,s.useMemo)((function(){return l.find((function(e){return e.value===n}))}),[l,n]);return(0,r.jsx)("div",{className:"relative flex items-center space-x-2",children:(0,r.jsx)(yn.L,{selected:null===u||void 0===u?void 0:u.value,icon:(0,r.jsx)("div",{className:(0,w.yI)(q.Cj.labelBlueStandard,"text-xs font-medium"),children:(0,r.jsx)(jn.h,{})}),iconClassName:"w-4 h-4 ml-0.5",itemsClassName:(0,w.yI)(q.Cj.bgLayer3,"left-0 top-[22px] text-md"),itemClassName:(0,w.yI)("font-normal",q.Cj.label2),itemSelectedClassName:(0,w.yI)("font-medium",q.Cj.label1),btnClassName:(0,w.yI)(q.Cj.bgTransparent,q.Cj.bgTransparentActive,q.Cj.bgTransparentHover,q.Cj.labelBlueStandard,"p-0"),setSelected:function(e){t&&t(e)},items:l,btnText:(0,r.jsx)("div",{className:(0,w.yI)(q.Cj.labelBlueStandard,"text-xs font-medium"),children:u?null===u||void 0===u?void 0:u.text:o("chooseAType")})})})},Nn=(0,w.yI)("transition-colors cursor-pointer py-[5px] px-3 rounded-lg"),In=function(e){var n=e.rule,t=e.onClick,o=e.icon,i=e.className,a=(0,s.useCallback)((function(){return t(n)}),[t,n]);return(0,r.jsx)("div",{className:(0,w.yI)("flex cursor-pointer items-center rounded-[5px] p-1 text-base",q.Cj.labelGrey7,q.Cj.fill4Hover,i),onClick:a,children:o})},wn=(0,s.forwardRef)((function(e,n){var t,u,d,m=e.onInsertRule,v=e.onCancel,f=e.className,p=e.placeholder,h=e.onSave,x=e.intentionTag,C=e.onIntentionTagChange,y=e.onSaveText,g=e.disabled,j=e.onChange,b=e.value,I=e.defaultValue,S=(0,Fe.Z)(e,["onInsertRule","onCancel","className","placeholder","onSave","intentionTag","onIntentionTagChange","onSaveText","disabled","onChange","value","defaultValue"]),T=(0,c.$G)("comments").t,R=(0,s.useRef)(null),B=le().state,L=B.layoutType,M=B.questionSlug,D=(0,Z.Z)((0,dn.O)(!1),2),E=D[0],H=D[1],A=(0,s.useCallback)((function(){M&&!E&&k.d.qdPreviewCommentClick({qd_version:N.AQ,qd_question_slug:M,qd_comment_pos:de(L)}),H.toggle()}),[H,L,M,E]),P=L===te.Dk.Discuss||L===te.Dk.Description,O=P&&!E&&!I,G=(0,w.yI)("w-full resize-none bg-transparent p-4 text-md outline-0 outline-none dark:bg-transparent min-h-[80px]",q.Cj.placeholderLabel4,f),z=(0,w.yI)({hidden:E,inherit:!E}),V=g||0===(null===b||void 0===b?void 0:b.trim().length),F=(0,s.useCallback)((0,o.Z)((function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return[4,h()];case 1:return e.sent(),H.off(),[2]}}))})),[h,H]);return(0,r.jsxs)("div",{className:(0,w.yI)("flex w-full flex-col rounded-[13px]",q.Cj.bgLayer2,q.eq.card),ref:R,children:[E&&(0,r.jsx)("div",{className:(0,w.yI)("min-h-[80px]",G),children:(0,r.jsx)(xn,{content:b})}),(0,r.jsx)(un.Z,(0,a.Z)((0,i.Z)({disabled:g,value:b,onChange:j},S,mn.g),{ref:n,placeholder:p||T("typeCommentHere"),className:(0,w.yI)(G,z)})),(0,r.jsxs)("div",{className:"relative box-content flex h-8 items-end p-4",children:[(0,r.jsxs)("div",{className:"flex flex-1 flex-col",children:[P&&!E&&O&&Q.Oo&&(0,r.jsx)("div",{className:"absolute top-0",children:(0,r.jsx)(bn,{intentionTag:x,setIntentionTag:C})}),(0,r.jsxs)("div",{className:(0,w.yI)("flex h-8 items-end gap-2",z),children:[(0,r.jsx)(In,{onClick:m,icon:(0,r.jsx)(vn.w,{}),rule:Je.InlineCode}),(0,r.jsx)(In,{onClick:m,icon:(0,r.jsx)(fn.J,{}),rule:Je.Link}),(0,r.jsx)(In,{onClick:m,icon:(0,r.jsx)(pn,{}),rule:Je.Mention})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(Cn.z,{disabled:V,className:(0,w.yI)(Nn,q.Cj.label3,(t={},(0,_.Z)(t,q.Cj.label2Hover,!V),(0,_.Z)(t,(0,w.yI)(q.Cj.labelBlueStandard,q.Cj.labelBlue3Hover),E),(0,_.Z)(t,"cursor-not-allowed",V),t),"bg-transparent hover:!bg-transparent dark:bg-transparent"),onClick:A,children:T(E?"editor":"preview")}),v&&(0,r.jsx)(Cn.z,{disabled:g,onClick:v,className:(0,w.yI)(Nn,q.Cj.fill2,q.Cj.fill3Hover,"text-label-1 dark:text-white",(u={},(0,_.Z)(u,"opacity-40",g),(0,_.Z)(u,"opacty-100",!g),u)),children:T("cancel")}),(0,r.jsx)(Cn.z,{disabled:g||0===(null===b||void 0===b?void 0:b.trim().length),onClick:F,className:(0,w.yI)(Nn,q.Cj.bgGreenStandard,q.Cj.bgGreen3Hover,q.Cj.labelWhite,(d={},(0,_.Z)(d,"opacity-40",g),(0,_.Z)(d,"opacty-100",!g),d)),children:y||T("comment")})]})]})]})})),kn=t(32180),Sn=(0,w.yI)("transition-colors cursor-pointer py-[4px] px-3 rounded-[20px]"),Zn=(0,s.forwardRef)((function(e,n){var t,o,l=e.onCancel,s=e.className,u=e.placeholder,d=e.onSave,m=e.onChange,v=e.onSaveText,f=e.disabled,p=e.value,h=(0,Fe.Z)(e,["onCancel","className","placeholder","onSave","onChange","onSaveText","disabled","value"]),x=(0,c.$G)("comments").t,C=(0,kn.Z)(h,["intentionTag","onInsertRule","onIntentionTagChange"]);return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:(0,r.jsx)(un.Z,(0,a.Z)((0,i.Z)({},C,mn.g),{ref:n,disabled:f,value:p,onChange:m,placeholder:u||x("typeCommentHere"),className:(0,w.yI)("w-full resize-none rounded-[13px] bg-transparent p-2.5 text-sm outline-none dark:bg-transparent",q.Cj.bgLayer2,q.eq.card,q.Cj.placeholderLabel4,s),rows:1}))}),(0,r.jsx)("div",{className:"mt-2 ml-2 flex",children:(0,r.jsxs)("div",{className:"flex flex-1 items-center justify-end space-x-4",children:[(0,r.jsx)(Cn.z,{onClick:l,disabled:f,className:(0,w.yI)(Sn,q.Cj.fill3,q.Cj.label2,(t={},(0,_.Z)(t,"opacity-40",f),(0,_.Z)(t,"opacty-100",!f),t)),children:x("cancel")}),(0,r.jsx)(Cn.z,{onClick:d,disabled:f||0===(null===p||void 0===p?void 0:p.trim().length),className:(0,w.yI)(Sn,q.Cj.bgGreenStandard,q.Cj.bgGreen3Hover,q.Cj.labelWhite,(o={},(0,_.Z)(o,"opacity-40",f),(0,_.Z)(o,"opacty-100",!f),o)),children:v||x("comment")})]})})]})})),Tn=t(61757),qn=new Map([[Je.InlineCode,function(e){return"`".concat(e,"`")}],[Je.CodeBlock,function(e){return"```".concat(e,"```")}],[Je.Link,function(e){return"[".concat(e,"](").concat(e,")")}]]),Rn=function(e){var n=e.rule,t=e.textareaEle,o=e.defaultTemplate,i=Tn.Mf(t),a=o;if(i&&function(e){return!!qn.has(e)}(n)){var l=function(e){return qn.get(e)}(n);a=l?l(i):o}Tn.$T(t,a)},_n=function(e){var n=e.className,t=e.variation,i=void 0===t?Ye.Full:t,a=e.disabled,u=void 0!==a&&a,d=e.value,m=e.onSave,v=e.onSaveText,f=e.topicId,p=e.placeholder,h=e.defaultValue,x=e.innerRef,C=e.onCancel,y=e.intentionTag,g=e.onIntentionTagChange,j=(0,Fe.Z)(e,["className","variation","disabled","value","onSave","onSaveText","topicId","placeholder","defaultValue","innerRef","onCancel","intentionTag","onIntentionTagChange"]),b=(0,s.useCallback)((function(e){g&&g(e)}),[g]),N=(0,c.$G)("comments").t,I=(0,s.useState)({top:0,left:0,visible:!1}),w=I[0],k=I[1],S=x,Z=(0,s.useRef)((h||"").length),T=(0,s.useCallback)((function(e){switch(e){case Je.InlineCode:return" `".concat(N("mdRules.inlineCode"),"your inline code...`");case Je.CodeBlock:return"\n```\n".concat(N("mdRules.codeBlock"),"\n```\n");case Je.Link:return"[".concat(N("mdRules.link"),"](").concat(N("mdRules.href"),")");case Je.Mention:return" @";default:return""}}),[N]),q=function(){var e=S.current;e&&(Z.current=e.selectionEnd)},R=function(){k({visible:!1,top:0,left:0})},_=le().state.containerDom,B=function(){var e=S.current;if(e&&_){var n=Ke()(e,Z.current),t=n.top,o=n.left,i=o+250+5+16>_.clientWidth;k(i?{top:t+20,right:0,visible:!0}:{top:t-5,left:o+5,visible:!0})}},L=function(){var e=S.current;e&&(e.focus(),e.selectionEnd=Z.current)},M=function(e){switch(e){case Ye.Full:return wn;case Ye.Slim:return Zn;default:return wn}}(i);return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(M,{value:d,disabled:u,onInsertRule:function(e){var n=S.current;if(n){var t=T(e);Rn({rule:e,textareaEle:n,defaultTemplate:t}),e===Je.Mention?setTimeout((function(){return B()}),0):L()}},className:n,ref:S,placeholder:p,onChange:function(e){!function(e){j.onChange(e)}(e.currentTarget.value)},onFocus:function(){R()},onBlur:function(){q()},innerRef:x,onKeyDown:function(e){var n=e.key,t=e.metaKey;setTimeout((0,o.Z)((function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:switch(q(),n){case Je.Mention:return[3,1];case"Enter":return[3,2]}return[3,4];case 1:return B(),[3,5];case 2:return t?[4,m()]:[3,5];case 3:return e.sent(),[3,5];case 4:return w.visible&&R(),[3,5];case 5:return[2]}}))})),18)},defaultValue:h,onCancel:C,onSave:m,onSaveText:v,intentionTag:y,onIntentionTagChange:b}),(0,r.jsx)(sn,{mentionInfo:w,topicId:f,hideSelf:function(){R(),L()},onMentionSelect:function(e){var n,t,o=S.current;o&&(o.selectionStart=o.selectionEnd-1,n=e,t=o,Tn.$T(t,n))}})]})},Bn=function(e){return(0,r.jsx)("div",{children:(0,r.jsx)(_n,(0,i.Z)({},e))})},Ln=t(111),Mn=t(42673),Dn=function(e){var n=e.content,t=(0,c.$G)("comments").t,o=(0,s.useState)(!1),i=o[0],a=o[1],l=(0,s.useState)(null),u=l[0],d=l[1],m=(0,s.useState)(!1),v=m[0],f=m[1];(0,P.L)((function(){setTimeout((function(){f(((null===u||void 0===u?void 0:u.scrollHeight)||0)>=140)}),1)}),[u,n]);var p,h,x=(0,s.useMemo)((function(){return v&&!i}),[v,i]),C=(0,s.useCallback)((function(){f(((null===u||void 0===u?void 0:u.scrollHeight)||0)>=140)}),[null===u||void 0===u?void 0:u.scrollHeight]),y=(0,s.useMemo)((function(){return(0,Ln.Z)(C,250)}),[C]),g=(0,Mn.a)(u).width;return(0,s.useEffect)((function(){g&&y()}),[g,y]),(0,r.jsx)("div",{className:"flex flex-col items-start",children:(0,r.jsxs)("div",{className:(0,w.yI)("relative w-full",(p={},(0,_.Z)(p,"overflow-hidden",x),(0,_.Z)(p,"block",!x),(0,_.Z)(p,"max-h-[140px]",!i),(0,_.Z)(p,"max-h-full",i),p)),children:[(0,r.jsx)("div",{className:"px-2.5",ref:d,children:(0,r.jsx)(xn,{content:n})}),(0,r.jsx)("div",{className:(0,w.yI)("cursor-pointer",(h={},(0,_.Z)(h,"absolute top-0 flex h-full w-full items-end bg-gradient-to-t from-[#F2F2F2] dark:from-[#393939]",x),(0,_.Z)(h,"hidden",!x),h)),onClick:function(){return a(!0)},children:(0,r.jsx)("div",{className:(0,w.yI)("flex w-full items-center justify-center text-md",q.Cj.label2),children:t("readMore")})})]})})},En=t(11567),Hn=t(4401),An=t(15197),Pn=function(e){var n;return(0,w.yI)((n={},(0,_.Z)(n,"opacity-1",!e.isHidden&&e.status!==E.$4.Deleted),(0,_.Z)(n,"opacity-40",e.isHidden||e.status===E.$4.Deleted),n))},On=function(e){var n,t,i,a=e.parentComment,u=e.comment,d=e.updateConfirmModal,m=e.updateReportModal,v=e.updateMoveToSolutionsModal,f=(0,c.$G)("comments").t,p=le(),h=p.state,x=h.highlightedCommentId,C=h.layoutType,y=h.isModerator,b=h.panelIsSmall,I=h.topicId,S=h.questionSlug,T=p.dispatch,R=x===u.id,M=(0,s.useRef)(null);(0,P.L)((function(){R&&M.current&&M.current.scrollIntoView()}),[R]),(0,P.L)((function(){if(x){var e=function(){return T({type:"highlightedCommentId",payload:void 0})};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}}),[x,T]);var G=L({commentId:a.id}),Q=Ve({queryKey:u.queryKey,existingComment:u}),F=Q.value,$=Q.onEdit,K=Q.onCommentChange,U=Q.isSaving,W=(0,s.useMemo)((function(){return"[@".concat(u.realName||u.username,"](").concat(V.Hb.profile((null===u||void 0===u?void 0:u.userSlug)||u.username),") ")}),[u.realName,u.username,u.userSlug]),Y=Ve({queryKey:G,parentComment:a,initialContent:W}),J=Y.value,X=Y.onSave,ee=Y.onCommentChange,ne=Y.isSaving,te=(0,s.useRef)(null),oe=(0,s.useState)(!1),ie=oe[0],ae=oe[1],re=(0,Z.Z)((0,z.X)(),2),ce=re[0],ue=re[1];(0,s.useEffect)((function(){ce(ie?null:M.current),ie&&A(te.current)}),[ce,ie]);var ve=(0,s.useCallback)((0,o.Z)((function(){return(0,l.__generator)(this,(function(e){return[2,$().then((function(e){var n=e.ok;return n&&ae(!1),{ok:n}}))]}))})),[$]),fe=(0,s.useState)(!1),pe=fe[0],xe=fe[1],ye=(0,s.useRef)(null);(0,s.useEffect)((function(){return pe?A(ye.current):void 0}),[pe]);var ge=(0,s.useCallback)((function(){return ae(!0)}),[]),be=(0,s.useCallback)((function(){return ae(!1)}),[]),Ne=(0,O.r)().isSignedIn,Ie=(0,s.useCallback)((function(){Ne?(xe((function(e){return!e})),!pe&&S&&k.d.qdReplyCommentClick({qd_version:N.AQ,qd_question_slug:S,qd_comment_pos:de(C),qd_comment_type:se.Reply})):j.y.error(f("common:loginRequired"))}),[Ne,f,S,pe,C]),we=(0,s.useCallback)((function(){return xe(!1)}),[]),ke=D({commentId:a.id},{enabled:!0}).refetch,Se=function(){var e=(0,o.Z)((function(){var e;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return[4,X()];case 1:return(e=n.sent()).ok&&(xe(!1),ke(),S&&k.d.qdSubmitCommentClick({qd_version:N.AQ,qd_question_slug:S,qd_comment_pos:de(C),qd_comment_type:se.Reply})),[2,e]}}))}));return function(){return e.apply(this,arguments)}}(),Ze=(0,s.useCallback)((function(){S&&k.d.qdShareCommentClick({qd_version:N.AQ,qd_question_slug:S,qd_comment_pos:de(C),qd_comment_type:se.Reply})}),[S,C]),Te=Pn(u),qe=!b,Re=!(u.status===E.$4.Deleted)&&(u.isOwnPost&&!y),Be=(0,g.U)().data,Le=(null===Be||void 0===Be||null===(n=Be.userStatus)||void 0===n?void 0:n.name)||(null===Be||void 0===Be||null===(t=Be.userStatus)||void 0===t?void 0:t.username)||"",De=(null===Be||void 0===Be||null===(i=Be.userStatus)||void 0===i?void 0:i.avatar)||"",Ee="max-w-[24px] max-h-[24px] min-h-[24px] min-w-[24px] h-6 w-6",Ae=(0,H.v)(u.username);return ie?(0,r.jsxs)("div",{className:"flex w-full gap-2 px-3 pt-4 pb-2",children:[(0,r.jsx)(En.D,{userAvatar:u.userAvatar,username:u.username,imgClassName:Ee}),(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)(Bn,{value:F,onSave:ve,defaultValue:u.content,disabled:U,innerRef:te,topicId:I||0,onChange:K,onSaveText:String(f("edit")),onCancel:be,variation:Ye.Slim})})]}):(0,r.jsxs)("div",{className:"flex flex-col",ref:M,children:[(0,r.jsxs)("div",{className:(0,w.yI)("flex w-full px-3 pt-4 pb-2 transition-[background] duration-500",(0,_.Z)({},(0,w.yI)(q.Cj.bgBlue0,"rounded-lg"),R)),children:[(0,r.jsx)(En.D,{userAvatar:u.userAvatar,username:u.username,imgClassName:(0,w.yI)("mr-2",Ee,Te)}),(0,r.jsxs)("div",{className:"flex w-full min-w-0 flex-col",children:[(0,r.jsxs)("div",{className:(0,w.yI)("flex w-full flex-col gap-1 overflow-hidden rounded-[13px]",q.Cj.label2,q.Cj.fill3),children:[(0,r.jsxs)("div",{className:(0,w.yI)("mt-2.5 flex w-full items-center gap-2 px-2.5",Te),children:[(0,r.jsx)(Hn.S,{username:u.username,badgeIcon:u.activeBadgeIcon,badgeName:u.activeBadgeName,badgeClassName:(0,w.yI)("ml-1"),realName:u.realName,reputation:u.reputation,userClassName:(0,w.yI)(q.Cj.label1,"text-xs font-medium")}),(0,r.jsx)("div",{children:(0,r.jsx)(Me,{status:u.status,isHidden:u.isHidden})}),(0,r.jsxs)("div",{className:"flex flex-1 justify-end space-x-2",children:[!1,(0,r.jsx)(An.c,{timestamp:u.creationDate,useCalendarIcon:!1,createdAtClassName:(0,w.yI)("justify-end",{"!min-w-fit":!1}),formattedDateClassName:(0,w.yI)(q.Cj.label3,"text-[11px] leading-[13px]")}),!1]})]}),(0,r.jsx)("div",{className:(0,w.yI)(q.Cj.label1,"mb-2.5 text-xs",Te),children:(0,r.jsx)(Dn,{content:u.content})})]}),(0,r.jsx)("div",{className:(0,w.yI)("mt-4 flex items-center gap-4 text-xs",q.Cj.label2),children:(0,r.jsxs)("div",{className:(0,w.yI)("flex items-center gap-4",Te),children:[(0,r.jsx)(me,{comment:u,isMyself:Ae,trackingCommentType:se.Reply}),(0,r.jsx)(he,{showLabel:qe,onClick:Ie}),(0,r.jsxs)(B.u,{className:"flex items-center gap-4 text-xs",show:ue,enter:"transition ease-out duration-200",leave:"transition ease-in duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:[(0,r.jsx)(Ce,{showLabel:qe,isOwnPost:u.isOwnPost,onClick:ge}),(0,r.jsx)(je,{showLabel:qe,commentId:u.id,onShareClick:Ze}),Re&&(0,r.jsx)(He,{comment:u,parentComment:a,updateModal:d}),(0,r.jsx)(_e,{comment:u,isPinnable:!1,updateConfirmModal:d,updateReportModal:m,updateMoveToSolutionsModal:v})]})]})})]})]}),pe&&(0,r.jsxs)("div",{className:"mt-4 flex px-3",children:[(0,r.jsx)(En.D,{userAvatar:De,username:Le,imgClassName:(0,w.yI)("mr-2 max-w-[24px] max-h-[24px] min-h-[24px] min-w-[24px] h-6 w-6")}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(Bn,{value:J,onSave:Se,disabled:ne,innerRef:ye,topicId:I||0,onChange:ee,onCancel:we,variation:Ye.Slim})})]})]})},Gn=t(50293),zn=t(14249),Qn=function(){return(0,r.jsx)("div",{className:(0,w.yI)("flex h-full w-full"),children:(0,r.jsxs)(Gn.O,{className:"flex w-full flex-col space-y-5",children:[(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("div",{className:"h-8",children:(0,r.jsx)(zn.a,{className:"!h-full w-8 rounded-full"})}),(0,r.jsxs)("div",{className:"flex w-[80px] flex-col space-y-2",children:[(0,r.jsx)(zn.a,{className:"h-4 w-3/4"}),(0,r.jsx)(zn.a,{className:"h-[14px] w-full"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col space-y-2.5",children:[(0,r.jsx)(zn.a,{className:"h-4 w-full"}),(0,r.jsx)(zn.a,{className:"h-4 w-1/3"})]})]})})},Vn=function(){return(0,r.jsx)("div",{className:(0,w.yI)("flex h-full w-full"),children:(0,r.jsxs)(Gn.O,{className:"flex w-full",children:[(0,r.jsxs)("div",{className:"flex w-full space-x-3",children:[(0,r.jsx)("div",{className:"h-6",children:(0,r.jsx)(zn.a,{className:"!h-full w-6 rounded-full"})}),(0,r.jsxs)("div",{className:"flex flex-1 flex-col space-y-2",children:[(0,r.jsxs)("div",{className:"flex w-full justify-between",children:[(0,r.jsx)(zn.a,{className:"h-3 w-1/3"}),(0,r.jsx)(zn.a,{className:"h-3 w-[80px]"})]}),(0,r.jsx)(zn.a,{className:"h-[12px] w-full"}),(0,r.jsx)(zn.a,{className:"h-[12px] w-2/3"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col space-y-2.5",children:[(0,r.jsx)(zn.a,{className:"h-3 w-full"}),(0,r.jsx)(zn.a,{className:"h-3 w-1/3"})]})]})})},Fn=function(e){var n=e.itemsCount,t=Array(n).fill(null);return(0,r.jsx)("div",{className:"flex flex-col gap-8 px-5 py-3",children:t.map((function(e,n){return(0,r.jsx)(Qn,{},n)}))})},$n=function(e){var n=e.parentComment,t=e.highlightedReplyId,o=e.hideReplies,i=e.updateConfirmModal,a=e.updateReportModal,l=e.updateMoveToSolutionsModal,u=(0,s.useState)(5),d=u[0],m=u[1],v=le().state.questionSlug,f=D({commentId:n.id,pageNo:1,numPerPage:d,upToReplyId:t}),p=f.isFetching,h=f.data,x=(null!==h&&void 0!==h?h:{}).comments;(0,s.useEffect)((function(){return m((function(e){return(null===x||void 0===x?void 0:x.length)?x.length:e}))}),[null===x||void 0===x?void 0:x.length]);var C,y=(0,c.$G)("comments").t,g=((null===h||void 0===h?void 0:h.total)||0)>d,j=(0,s.useCallback)((function(){g&&(m(d+5),v&&k.d.qdExpandCommentClick({qd_version:N.AQ,qd_question_slug:v}))}),[d,g,v]),b=(0,s.useCallback)((function(){o(),m(5)}),[o]),I=null!==(C=null===x||void 0===x?void 0:x.map((function(e){return e.userSlug})))&&void 0!==C?C:[],S=(0,Le.Ew)(I).data,Z=(0,s.useMemo)((function(){return x}),[x,S]);return p?(0,r.jsx)("div",{className:"mx-5",children:(0,r.jsx)(Vn,{})}):(0,r.jsxs)("div",{className:"flex flex-col",children:[Z&&Z.map((function(e){return(0,r.jsx)(On,{parentComment:n,comment:e,updateConfirmModal:i,updateReportModal:a,updateMoveToSolutionsModal:l},e.id)})),(0,r.jsxs)("div",{className:"flex w-full justify-between px-3 pt-2",children:[(0,r.jsx)("div",{onClick:j,className:(0,w.yI)("cursor-pointer text-xs font-medium",q.Cj.labelBlueStandard,{flex:g,invisible:!g}),children:y("showMoreReplies")}),(0,r.jsx)("div",{onClick:b,className:(0,w.yI)("group cursor-pointer pb-3 pr-3"),children:(0,r.jsx)(ee.E,{icon:Be.S,label:String(y("hide")),labelClassName:(0,w.yI)(q.Cj.label1GroupHover),iconClassName:(0,w.yI)("w-4 h-4",q.Cj.label1GroupHover)})})]})]})},Kn=function(e){var n=e.content,t=(0,c.$G)("comments").t,o=(0,s.useState)(!1),i=o[0],a=o[1],l=(0,s.useState)(null),u=l[0],d=l[1],m=(0,s.useState)(!1),v=m[0],f=m[1];(0,P.L)((function(){setTimeout((function(){f(((null===u||void 0===u?void 0:u.scrollHeight)||0)>=230)}),1)}),[u,n]);var p,h,x=(0,s.useMemo)((function(){return v&&!i}),[v,i]),C=(0,s.useCallback)((function(){f(((null===u||void 0===u?void 0:u.scrollHeight)||0)>=230)}),[null===u||void 0===u?void 0:u.scrollHeight]),y=(0,s.useMemo)((function(){return(0,Ln.Z)(C,250)}),[C]),g=(0,Mn.a)(u).width;return(0,s.useEffect)((function(){g&&y()}),[g,y]),(0,r.jsxs)("div",{className:(0,w.yI)("relative",(p={},(0,_.Z)(p,"overflow-hidden",x),(0,_.Z)(p,"block",!x),(0,_.Z)(p,"max-h-[230px]",!i),(0,_.Z)(p,"max-h-full",i),p)),children:[(0,r.jsx)("div",{ref:d,children:(0,r.jsx)(xn,{content:n})}),(0,r.jsx)("div",{className:(0,w.yI)("cursor-pointer",(h={},(0,_.Z)(h,"absolute top-0 flex h-full w-full items-end bg-gradient-to-t from-layer-1 dark:from-dark-layer-1",x),(0,_.Z)(h,"hidden",!x),h)),onClick:function(){return a(!0)},children:(0,r.jsx)("div",{className:(0,w.yI)("flex w-full items-center justify-center text-md",q.Cj.label1),children:t("readMore")})})]})},Un=t(74792),Wn=s.forwardRef((function(e,n){return(0,r.jsx)("svg",(0,a.Z)((0,i.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M12.93 3.586a2 2 0 012.829 0l4.849 4.849a2 2 0 010 2.828l-4.497 4.496a2 2 0 00-.558 1.086l-.586 3.512a1 1 0 01-1.693.543L8.99 16.617l-3.879 3.879a1 1 0 01-1.414-1.415l3.879-3.878-4.283-4.283a1 1 0 01.543-1.694l3.512-.585a2 2 0 001.085-.559l4.497-4.496z",clipRule:"evenodd"})}))})),Yn=function(e){var n=e.pinnedBy,t=(0,c.$G)("comments").t;return(0,r.jsx)("div",{className:"w-fit",children:(0,r.jsx)(Un.ua7,{label:t("pinnedBy",{pinnedBy:n}),hasArrow:!1,children:(0,r.jsxs)("div",{className:(0,w.yI)(q.Cj.labelBlueStandard,"flex items-center space-x-1.5 text-xs font-medium"),children:[(0,r.jsx)(Wn,{}),(0,r.jsx)("span",{children:t("pinned")})]})})})},Jn=function(e){var n,t=e.type,o=le().state.tagNamesMap;return(0,r.jsx)("div",{className:"inline-block",children:(0,r.jsx)("div",{className:(0,w.yI)(q.Cj.fill3,q.Cj.label2,"rounded-[38px] py-0.5 px-2.5 text-xs font-medium"),children:null!==(n=o.get(t))&&void 0!==n?n:"Unknown"})})},Xn=function(e){var n,t,i,a=e.comment,u=e.updateConfirmModal,d=e.updateReportModal,m=e.updateMoveToSolutionsModal,v=(0,c.$G)("comments").t,f=(0,H.v)(a.username),p=(0,s.useState)(!1),h=p[0],x=p[1],C=(0,s.useRef)(null),y=(0,s.useRef)(null),b=(0,s.useRef)(null),I=le(),S=I.state,T=S.topicId,R=S.highlightedCommentId,M=S.parentOfHighlightedCommentId,D=S.layoutType,V=S.isModerator,F=S.panelIsSmall,$=S.questionSlug,K=I.dispatch,U=(0,s.useState)(!1),W=U[0],Y=U[1],J=(0,Z.Z)((0,z.X)(),2),X=J[0],ee=J[1];(0,s.useEffect)((function(){X(W?null:b.current),W&&A(C.current)}),[X,W]);var ne=R===a.id,te=M===a.id,oe=R!==a.id?R:void 0,ie=(0,g.U)().data,ae=(null===ie||void 0===ie||null===(n=ie.userStatus)||void 0===n?void 0:n.name)||(null===ie||void 0===ie||null===(t=ie.userStatus)||void 0===t?void 0:t.username)||"",re=(null===ie||void 0===ie||null===(i=ie.userStatus)||void 0===i?void 0:i.avatar)||"";(0,P.L)((function(){ne&&y.current&&y.current.scrollIntoView()}),[ne]),(0,P.L)((function(){if(R){te&&x(!0);var e=function(){return K({type:"highlightedCommentId",payload:void 0})};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}}),[R,te,K]);var ce=(0,s.useState)(!1),ue=ce[0],ve=ce[1];(0,s.useEffect)((function(){return ue?A(C.current):void 0}),[ue]);var pe,xe=(0,s.useCallback)((function(){x(!h),$&&(!h&&k.d.qdShowRepliesClick({qd_version:N.AQ,qd_question_slug:$}),h&&k.d.qdHideRepliesClick({qd_version:N.AQ,qd_question_slug:$}))}),[h,$]),ye=(0,O.r)().isSignedIn,ge=(0,s.useCallback)((function(){ye?(ve((function(e){return!e})),!ue&&$&&k.d.qdReplyCommentClick({qd_version:N.AQ,qd_question_slug:$,qd_comment_pos:de(D),qd_comment_type:se.Comment})):j.y.error(v("common:loginRequired"))}),[ye,v,$,D,ue]),be=(0,s.useCallback)((function(){x(!1),$&&k.d.qdHideRepliesClick({qd_version:N.AQ,qd_question_slug:$})}),[$]),Ne=(0,s.useCallback)((function(){return ve(!1)}),[]),Ie=(0,s.useCallback)((function(){return Y(!1)}),[]),we=L({commentId:a.id}),ke=Ve({queryKey:we,parentComment:a}),Se=ke.value,Ze=ke.onSave,Te=ke.onCommentChange,qe=ke.isSaving,Re=Ve({queryKey:a.queryKey,existingComment:a}),Be=Re.value,Le=Re.onEdit,De=Re.onCommentChange,Ee=Re.isSaving,Ae=function(){var e=(0,o.Z)((function(){var e;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return[4,Ze()];case 1:return(e=n.sent()).ok&&(x(!0),ve(!1),$&&k.d.qdSubmitCommentClick({qd_version:N.AQ,qd_question_slug:$,qd_comment_pos:de(D),qd_comment_type:se.Reply})),[2,e]}}))}));return function(){return e.apply(this,arguments)}}(),Pe=(0,s.useCallback)((function(){$&&k.d.qdShareCommentClick({qd_version:N.AQ,qd_question_slug:$,qd_comment_pos:de(D),qd_comment_type:se.Comment})}),[$,D]),Oe=(0,s.useCallback)((function(){return Y(!0)}),[]),Ge=function(){var e=(0,o.Z)((function(){return(0,l.__generator)(this,(function(e){return[2,Le().then((function(e){var n=e.ok;return n&&Y(!1),{ok:n}}))]}))}));return function(){return e.apply(this,arguments)}}(),ze=(0,w.yI)((pe={},(0,_.Z)(pe,"opacity-1",!a.isHidden&&a.status!==E.$4.Deleted),(0,_.Z)(pe,"opacity-40",a.isHidden||a.status===E.$4.Deleted),pe)),Qe=(0,G.tq)(),Fe=!Qe&&!F,$e=!(a.status===E.$4.Deleted)&&(a.isOwnPost&&!V);return W?(0,r.jsx)("div",{className:(0,w.yI)("mx-2 px-3 py-3"),children:(0,r.jsx)(Bn,{value:Be,onSave:Ge,onSaveText:v("edit"),defaultValue:a.content,disabled:Ee,innerRef:C,topicId:T||0,onChange:De,onCancel:Ie,variation:Ye.Full})}):(0,r.jsxs)("div",{className:(0,w.yI)("mx-2 transition-[background] duration-500",(0,_.Z)({},(0,w.yI)(q.Cj.bgBlue0,"rounded-lg"),ne)),ref:y,children:[(0,r.jsxs)("div",{className:(0,w.yI)("flex w-full flex-col px-3 py-3"),ref:b,children:[(0,r.jsxs)("div",{className:(0,w.yI)("flex w-full items-center gap-3",ze),children:[(0,r.jsx)(En.D,{userAvatar:a.userAvatar,username:a.username}),(0,r.jsxs)("div",{className:"flex w-full",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[a.pinned&&(0,r.jsx)(Yn,{pinnedBy:a.pinnedBy.username}),(0,r.jsxs)("div",{className:"flex w-full items-center gap-2",children:[(0,r.jsx)(Hn.S,{realName:a.realName,username:a.username,badgeIcon:a.activeBadgeIcon,badgeName:a.activeBadgeName,reputation:a.reputation,badgeClassName:(0,w.yI)("h-4 w-4 ml-1"),userClassName:(0,w.yI)(q.Cj.label1,"font-medium",{"text-[14px]":!Q.Oo,"text-base":Q.Oo})}),(0,r.jsx)("div",{className:(0,w.yI)("ml-2"),children:(0,r.jsx)(Me,{status:a.status,isHidden:a.isHidden})})]})]}),(0,r.jsxs)("div",{className:"flex flex-1 items-center justify-end gap-2",children:[!1,a.isEdited&&!F&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:(0,w.yI)("h-[3px] w-[3px] rounded",q.Cj.fillGray5)}),(0,r.jsx)("span",{className:(0,w.yI)("text-xs leading-[13px]",q.Cj.label3),children:v("edited")}),(0,r.jsx)("span",{className:(0,w.yI)("h-[3px] w-[3px] rounded",q.Cj.fillGray5)})]}),(0,r.jsx)(An.c,{timestamp:a.creationDate,useCalendarIcon:!1,createdAtClassName:(0,w.yI)("justify-end",{"!min-w-fit":!1}),formattedDateClassName:(0,w.yI)(q.Cj.label3,"text-[11px] leading-[13px]")}),!1]})]})]}),(0,r.jsxs)("div",{className:(0,w.yI)("mt-2 flex w-full flex-col",q.Cj.label2),children:[(0,r.jsx)("div",{className:(0,w.yI)(ze),children:(0,r.jsx)(Kn,{content:a.content})}),a.intentionTag&&(0,r.jsx)("div",{className:"mt-2.5",children:(0,r.jsx)(Jn,{type:a.intentionTag})}),(0,r.jsx)("div",{className:"mt-4 flex items-center gap-4",children:(0,r.jsxs)("div",{className:(0,w.yI)("flex items-center gap-4 text-xs",ze),children:[(0,r.jsx)(me,{comment:a,isMyself:f,trackingCommentType:se.Comment}),(0,r.jsx)(fe,{onClick:xe,showLabel:Fe,showReplies:h,repliesNum:a.numChildren}),(0,r.jsx)(he,{showLabel:Fe,onClick:ge}),(0,r.jsxs)(B.u,{className:"flex items-center gap-4 text-xs",show:ee||Qe,enter:"transition ease-out duration-200",leave:"transition ease-in duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:[(0,r.jsxs)("div",{className:(0,w.yI)("flex items-center gap-4",ze),children:[(0,r.jsx)(Ce,{showLabel:Fe,isOwnPost:a.isOwnPost,onClick:Oe}),(0,r.jsx)(je,{showLabel:Fe,commentId:a.id,onShareClick:Pe}),$e?(0,r.jsx)(He,{comment:a,updateModal:u,topicId:null!==T&&void 0!==T?T:void 0}):null]}),(0,r.jsx)(_e,{comment:a,updateConfirmModal:u,updateReportModal:d,updateMoveToSolutionsModal:m})]})]})})]})]}),ue&&(0,r.jsxs)("div",{className:"mt-3 flex px-3",children:[(0,r.jsx)(En.D,{userAvatar:re,username:ae,imgClassName:(0,w.yI)("mr-2 max-w-[24px] max-h-[24px] min-h-[24px] min-w-[24px] h-6 w-6")}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(Bn,{value:Se,onSave:Ae,disabled:qe,innerRef:C,topicId:T||0,onChange:Te,onCancel:Ne,variation:Ye.Slim})})]}),h&&(0,r.jsx)($n,{parentComment:a,highlightedReplyId:oe,hideReplies:be,updateConfirmModal:u,updateReportModal:d,updateMoveToSolutionsModal:m})]})},et=t(21950),nt=function(){return(0,d.oOM)(m.f6)},tt=t(385),ot=t(8290),it=function(e){var n=e.visible,t=e.onCancel,o=e.comment,l=(0,c.$G)("comments").t,u=(0,F.NL)(),d=(0,s.useState)(""),m=d[0],v=d[1],f=nt(),p=f.isLoading,h=f.mutateAsync,x=0===m.trim().length||p,C=le().state.questionSlug;(0,s.useEffect)((function(){n&&v("")}),[n]);var y=(0,s.useCallback)((function(e){var n=e.currentTarget.value||"";v(n)}),[v]),g=(0,s.useCallback)((function(){o&&h({commentId:o.id,title:m}).then((function(e){var n,r,s;if(!(null===e||void 0===e||null===(n=e.migrateDiscussionToSolution)||void 0===n?void 0:n.ok))return j.y.error(l("genericError"),{itemClassName:q.Cj.bgLayer3});!function(e){var n=e.commentId,t=e.queryClient,o=e.key;$({commentId:n,changeComment:function(e){return(0,a.Z)((0,i.Z)({},e),{status:E.$4.Deleted})},queryClient:t,key:o})}({commentId:o.id,key:o.queryKey,queryClient:u});var c,d=null===(r=e.migrateDiscussionToSolution.topic)||void 0===r?void 0:r.id,m=(0,et.o)(null!==(c=null===(s=e.migrateDiscussionToSolution.topic)||void 0===s?void 0:s.title)&&void 0!==c?c:"topic");C&&d&&m&&window.open(V.Hb.solutions(C,d,m),"_blank"),j.y.success(l("moveSuccess"),{itemClassName:q.Cj.bgLayer3}),t()}))}),[o,h,m,l,u,C,t]);return(0,r.jsxs)(ot.u,{visible:n,onCancel:t,closable:!1,maskClosable:!0,className:(0,w.yI)("w-[480px] p-0 text-base",q.Cj.bgLayer2),children:[(0,r.jsxs)("div",{className:(0,w.yI)("flex items-center border-b px-6 py-4 text-lg font-medium",q.Cj.label1,q.Cj.dividerBorder2),children:[l("move"),(0,r.jsx)("button",{onClick:t,className:(0,w.yI)("ml-auto cursor-pointer rounded transition-all",q.Cj.fill3Hover),children:(0,r.jsx)(tt.F,{className:(0,w.yI)("h-6 w-6",q.Cj.labelGrey6)})})]}),(0,r.jsxs)("div",{className:(0,w.yI)("flex flex-col gap-2 px-6 py-4"),children:[(0,r.jsx)("div",{className:(0,w.yI)("text-sm",q.Cj.label2),children:l("moveTitle")}),(0,r.jsx)(We.I,{className:(0,w.yI)("rounded-lg px-3 py-1 text-sm focus:border-transparent",q.Cj.fill4,q.Cj.placeholderLabel4,N.UG),value:m,onChange:y,placeholder:l("moveTitlePlaceholder")})]}),(0,r.jsxs)("div",{className:(0,w.yI)("flex justify-end gap-4 px-6 py-4 text-sm"),children:[(0,r.jsx)(Cn.z,{onClick:t,className:"rounded-lg px-4 py-1.5",children:l("cancel")}),(0,r.jsx)(Cn.z,{variant:"primary",disabled:x,loading:p,onClick:g,className:"rounded-lg px-4 py-1.5",children:l("confirm")})]})]})},at=function(e){return e},lt=t(31071),rt=function(e){var n,t,o=e.comments,i=e.isFetching,a=e.commentsCountToLoad,l=(0,c.$G)("comments").t,u=(0,T.t)({className:"z-modal",cancelBtnCls:"py-1.5",confirmBtnCls:"py-1.5"}),d=u.modal,m=u.update,v=(0,Z.Z)(R(),2),f=v[0],p=v[1],h=(0,s.useCallback)((function(){return p({visible:!1,comment:void 0})}),[p]),x=(0,Z.Z)(R(),2),C=x[0],y=x[1],g=(0,s.useCallback)((function(){return y({visible:!1,comment:void 0})}),[y]),j=at(o);return i?(0,r.jsx)(Fn,{itemsCount:a}):j&&j.length>0?(0,r.jsxs)("div",{children:[j.map((function(e){return(0,r.jsx)(Xn,{comment:e,updateConfirmModal:m,updateReportModal:p,updateMoveToSolutionsModal:y},e.id)})),d,(0,r.jsx)(lt.y,{visible:f.visible,postId:(null===(n=f.comment)||void 0===n?void 0:n.postId)||0,commentId:null===(t=f.comment)||void 0===t?void 0:t.id,onCancel:h}),(0,r.jsx)(it,{onCancel:g,visible:C.visible,comment:C.comment})]}):(0,r.jsx)("div",{className:(0,w.yI)("w-full p-5 text-center",q.Cj.label4),children:l("noComments")})},st=t(94713),ct=function(e){var n=e.className,t=e.sortBy,o=e.setSortBy,i=(0,c.$G)("comments").t,a=(0,s.useMemo)((function(){return(0,en.Z)([{value:u.f.Best,text:i("best")},{value:u.f.MostVotes,text:i("mostVotes")},{value:u.f.NewestToOldest,text:i("newestToOldest")},{value:u.f.OldestToNewest,text:i("oldestToNewest")}])}),[i]),l=a.find((function(e){return e.value===t}));return(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsx)(yn.L,{selected:null===l||void 0===l?void 0:l.value,icon:(0,r.jsx)(jn.h,{}),btnClassName:(0,w.yI)("p-0 bg-transparent dark:bg-transparent hover:bg-transparent dark:hover:bg-transparent active:bg-transparent dark:active:bg-transparent",q.Cj.label2),itemsClassName:n,itemClassName:(0,w.yI)("font-normal",q.Cj.label2),itemSelectedClassName:(0,w.yI)("font-medium",q.Cj.label1),setSelected:function(e){e&&o(e)},items:a,btnText:(0,r.jsxs)("div",{className:(0,w.yI)("text-xs",q.Cj.label2),children:[(0,r.jsxs)("span",{className:"mr-2",children:[i("sortBy"),":"]}),(0,r.jsx)("span",{className:(0,w.yI)(q.Cj.label1,"font-medium"),children:null===l||void 0===l?void 0:l.text})]})})})},ut=function(e){var n=e.total,t=e.sortBy,o=e.setSortBy,i=(0,c.$G)("comments").t;return(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{children:(0,r.jsx)(st.h,{className:(0,w.yI)("h-6 w-6",q.Cj.labelGrey6)})}),(0,r.jsxs)("div",{className:(0,w.yI)("flex-1 text-base font-medium",q.Cj.label1),children:[i("comments")," (",(0,U.ZP)(n),")"]}),(0,r.jsx)("div",{children:(0,r.jsx)(ct,{sortBy:t,setSortBy:o,className:"right-0"})})]})},dt=t(32826),mt=t(4999),vt=t(54340);!function(e){e.Discussion="discussion",e.OfficialSolution="officialSolution"}(cn||(cn={}));var ft=function(e){var n=e.title,t=e.onClose,o=e.children,i=e.className;return(0,r.jsx)("div",{className:(0,w.yI)("w-full rounded-[13px] border p-4",q.Cj.fill4,q.Cj.divider4,i),children:(0,r.jsxs)("div",{className:"flex w-full flex-col items-start gap-3",children:[(0,r.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,r.jsx)("div",{className:(0,w.yI)("font-medium",q.Cj.label1),children:n}),(0,r.jsx)("div",{className:"cursor-pointer",onClick:t,children:(0,r.jsx)(tt.F,{className:(0,w.yI)("h-4 w-4",q.Cj.labelGrey6,q.Cj.labelGrey7Hover)})})]}),(0,r.jsx)("div",{className:(0,w.yI)("flex w-full flex-col items-start gap-4 text-xs",q.Cj.label2),children:o})]})})},pt=function(e){var n=(0,Z.Z)((0,dt._)("".concat(e,"CommentingRulesExpiration"),void 0),2),t=n[0],o=n[1],i=(0,s.useCallback)((function(){var e=(0,mt.B)().add(7,"d").valueOf();o(e)}),[o]);return{isExpired:!!(!t||!(0,mt.B)(Number(t)).isValid())||(0,mt.B)(t).isBefore((0,mt.B)()),setToExpire:i}},ht=function(e){var n=e.discussionType,t=e.className,o=pt(n),i=o.isExpired,a=o.setToExpire,l=function(e){var n,t=(0,w.yI)("text-xs font-medium",q.Cj.labelBlueStandard);return(n={},(0,_.Z)(n,cn.OfficialSolution,{title:"\ud83d\udca1 Article Commenting Rules",content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{children:["1. This comment section is for questions and comments regarding this ",(0,r.jsx)("b",{children:"LeetCode article"}),". All posts must respect our"," ",(0,r.jsx)(vt.r,{className:t,href:V.Hb.communityRules(),isExternal:!0,children:"LeetCode Community Rules"}),"."]}),(0,r.jsxs)("p",{children:["2. Concerns about errors or bugs in the article, problem description, or test cases should be posted on"," ",(0,r.jsx)(vt.r,{className:t,href:V.Hb.feedback(),isExternal:!0,children:"LeetCode Feedback"}),", so that our team can address them."]})]})}),(0,_.Z)(n,cn.Discussion,{title:"\ud83d\udca1 Discussion Rules",content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{children:["1. Please don't post ",(0,r.jsx)("b",{children:"any solutions"})," in this discussion."]}),(0,r.jsx)("p",{children:"2. The problem discussion is for asking questions about the problem or for sharing tips - anything except for solutions."}),(0,r.jsx)("p",{children:"3. If you'd like to share your solution for feedback and ideas, please head to the solutions tab and post it there."})]})}),n)[e]}(n),c=(0,s.useState)(!1),u=c[0],d=c[1];return(0,s.useEffect)((function(){return d(i)}),[i]),u?(0,r.jsx)(ft,{title:l.title,onClose:a,className:t,children:l.content}):null},xt=function(e){var n,t,d,m,v,f=e.topicId,p=e.commentCount,x=e.commentId,Z=e.layoutType,T=e.hideComments,q=e.uniqueKey,R=(0,s.useRef)(null),_=(0,c.$G)("common").t,B=le(),L=B.state,M=B.dispatch,D=L.topicId,E=L.isModerator,H=L.highlightedCommentId,A=L.parentOfHighlightedCommentId,P=L.content,O=L.intentionTag,G=L.containerDom,z=L.questionSlug,Q=(0,te.S6)((function(e){return e.setCommentsTopAnchor}));(0,s.useEffect)((function(){return M({type:"layoutType",payload:Z})}),[M,Z]);var V=null===(n=(0,g.U)())||void 0===n||null===(t=n.data)||void 0===t?void 0:t.userStatus,F=null===(d=(0,g.U)())||void 0===d||null===(m=d.data)||void 0===m||null===(v=m.userStatus)||void 0===v?void 0:v.isSignedIn,$=Boolean(null===V||void 0===V?void 0:V.isAdmin),K=(0,s.useState)(u.f.Best),U=K[0],W=K[1],Y=(0,s.useCallback)((function(e){z&&k.d.qdSortCommentClick({qd_version:N.AQ,qd_question_slug:z,qd_sort_type:e,qd_comment_pos:Z}),W(e)}),[z,Z]),J=(0,s.useState)(1),X=J[0],ee=J[1],ne={topicId:f,orderBy:U,pageNo:X,numPerPage:10},oe=h(ne),ie=Z===te.Dk.Description,ae=Z===te.Dk.Discuss||ie,re=(0,S.Q)({domElement:G,threshold:475});(0,s.useEffect)((function(){return M({type:"panelIsSmall",payload:re})}),[M,re]);var ce,ue,me=Ve({queryKey:oe,initialContent:ae?P:void 0,initialIntentionTag:ae?O:void 0,saveDraft:ae,setPageNo:ee}),ve=me.value,fe=me.onSave,pe=me.onCommentChange,he=me.isSaving,xe=me.intentionTag,Ce=me.onIntentionTagChange,ye=Boolean(f&&!T&&0!==p),ge=C((0,a.Z)((0,i.Z)({},ne),{isDiscuss:ae}),{enabled:ye}),je=ge.data,be=ge.isFetching,Ne=y({commentId:x,orderBy:U,topicId:f},{enabled:Boolean(x&&ye)}).data,Ie=(0,s.useRef)(null),we=(0,s.useRef)(null),ke=(0,s.useCallback)((function(e){var n;ee(e),null===(n=we.current)||void 0===n||n.scrollIntoView()}),[]);(0,s.useEffect)((function(){E!==$&&M({type:"isModerator",payload:$}),H!==x&&M({type:"highlightedCommentId",payload:x}),A!==x&&M({type:"parentOfHighlightedCommentId",payload:x}),A!==(null===Ne||void 0===Ne?void 0:Ne.parentCommentId)&&M({type:"parentOfHighlightedCommentId",payload:null===Ne||void 0===Ne?void 0:Ne.parentCommentId})}),[f,D,$,E,Ne]),(0,s.useEffect)((function(){Ne&&ee(Ne.pageNo)}),[Ne]);var Se=null!==(ue=null!==(ce=null===je||void 0===je?void 0:je.total)&&void 0!==ce?ce:p)&&void 0!==ue?ue:0,Ze=Math.min(Se-10*(X-1),10),Te=(0,I.z)((0,o.Z)((function(){return(0,l.__generator)(this,(function(e){return F?[2,fe().then((function(e){var n=e.ok;return n&&z&&k.d.qdSubmitCommentClick({qd_version:N.AQ,qd_question_slug:z,qd_comment_pos:de(Z),qd_comment_type:se.Comment}),{ok:n}}))]:(j.y.error(_("loginRequired")),[2,Promise.resolve({ok:!1})])}))})));return(0,s.useLayoutEffect)((function(){M({type:"containerDom",payload:Ie.current}),q&&Q(q,we.current)}),[M,q,Q]),(0,r.jsxs)("div",{className:"flex h-full flex-col",ref:Ie,children:[!ae&&(0,r.jsx)("div",{className:"mx-4",children:(0,r.jsx)(ut,{total:Se,sortBy:U,setSortBy:Y})}),(0,r.jsx)("div",{className:(0,w.yI)("mx-4 mt-3",{"mx-5":ie}),children:(0,r.jsx)(Bn,{value:ve,disabled:he,onSave:Te,topicId:f,innerRef:R,onChange:pe,variation:Ye.Full,intentionTag:xe,onIntentionTagChange:Ce})}),ae&&(0,r.jsxs)("div",{className:(0,w.yI)("mx-4 mt-3",{"mx-5":ie}),children:[(0,r.jsx)(ht,{discussionType:cn.Discussion,className:"mb-3"}),(0,r.jsx)("div",{className:"pt-3",children:(0,r.jsx)(ct,{sortBy:U,setSortBy:Y,className:"left-0"})})]}),Z===te.Dk.OfficialSolution&&(0,r.jsx)("div",{className:"mx-4 mt-3",children:(0,r.jsx)(ht,{discussionType:cn.OfficialSolution})}),(0,r.jsx)("div",{className:"mt-4 flex-1",ref:we,children:(0,r.jsx)(rt,{comments:null===je||void 0===je?void 0:je.comments,commentsCountToLoad:Ze,isFetching:be})}),Se>0&&(0,r.jsx)("div",{className:(0,w.yI)("mx-4 mt-7 mb-4 flex justify-center pb-4"),children:(0,r.jsx)(b.Z,{disabled:be||he,currentPage:X,totalItems:Se,maxPageItems:re?X<99?6:5:void 0,itemsPerPage:10,onChange:ke,pageItemClassName:"text-sm",chevronClassName:"w-4 h-4",arrowButtonClassName:"px-2"})})]})},Ct=function(e){var n=(0,a.Z)((0,i.Z)({},ie),{topicId:e.topicId,questionSlug:e.questionSlug,layoutType:e.layoutType});return(0,r.jsx)(ue,{value:n,children:(0,r.jsx)(xt,(0,i.Z)({},e))})}},37906:function(e,n,t){"use strict";t.d(n,{Dk:function(){return i},S6:function(){return u}});var o,i,a=t(14924),l=t(26042),r=t(69396),s=t(73445),c=t(782);!function(e){e.UpdateState="UpdateState"}(o||(o={})),function(e){e.Discuss="Discuss",e.Solution="Solution",e.OfficialSolution="OfficialSolution",e.Description="Description",e.MarkdownGuide="MarkdownGuide"}(i||(i={}));var u=(0,s.Ue)((0,c.$e)({commentsTopAnchorMap:{}},(function(e,n){return{setCommentsTopAnchor:function(n,t){return e((function(e){return(0,r.Z)((0,l.Z)({},e),{commentsTopAnchorMap:(0,r.Z)((0,l.Z)({},e.commentsTopAnchorMap),(0,a.Z)({},n,t))})}))},scrollToCommentListTop:function(e){var t;null===(t=n().commentsTopAnchorMap[e])||void 0===t||t.scrollIntoView({behavior:"smooth"})}}})))},11567:function(e,n,t){"use strict";t.d(n,{D:function(){return m}});var o=t(85893),i=t(51797),a=t(84004),l=t(46922),r=t(7649),s=t(45404),c=t(83757),u=t(54340),d=t(29297),m=function(e){var n=e.userAvatar,t=e.username,m=e.imgClassName,v=e.dontTriggerParentClickEvent,f=e.clickable,p=void 0===f||f,h=(0,o.jsx)(s.q,{src:n,alt:"",className:"h-full w-full rounded-full"}),x=(0,i.yI)("h-8 min-h-[32px] w-8 min-w-[32px]",m),C=(0,c.v)((function(e){return e.questionSlug})),y=(0,a.z)((function(e){d.d.qdEnterAuthorProfileClick({qd_version:l.AQ,qd_question_slug:C,qd_post_article_author:t}),v&&e.stopPropagation()}));return p?(0,o.jsx)(u.r,{className:x,href:r.Hb.profile(t),onClick:y,isExternal:!0,children:h}):(0,o.jsx)("div",{className:x,children:h})}},4401:function(e,n,t){"use strict";t.d(n,{S:function(){return f}});var o=t(85893),i=t(74792),a=t(51797),l=t(84004),r=t(46922),s=t(7649),c=t(83757),u=t(54340),d=t(29234),m=t(29297),v=t(82723).E,f=function(e){var n=e.realName,t=e.username,f=e.badgeIcon,p=e.badgeName,h=e.isLink,x=void 0===h||h,C=e.badgeClassName,y=e.userClassName,g=e.reputation,j=e.dontTriggerParentClickEvent,b=(0,a.yI)(d.xy.labelTextSecondary,"text-xs font-medium overflow-hidden max-w-[100px] md:max-w-[200px] text-ellipsis"),N=(0,c.v)((function(e){return e.questionSlug})),I=(0,l.z)((function(e){m.d.qdEnterAuthorProfileClick({qd_version:r.AQ,qd_question_slug:N,qd_post_article_author:t}),j&&e.stopPropagation()}));return(0,o.jsxs)("div",{className:"flex items-center gap-1 truncate",translate:"no",children:[x?(0,o.jsx)(u.r,{onClick:I,href:s.Hb.profile(t),className:(0,a.yI)(b,d.M$.labelBlueS,"truncate",y),isExternal:!0,children:n||t}):(0,o.jsx)("div",{className:(0,a.yI)(b,y),children:t}),f&&p&&(0,o.jsx)(i.ua7,{label:p,hasArrow:!1,placement:"top",children:(0,o.jsx)("div",{className:(0,a.yI)("h-3 w-3",C),children:(0,o.jsx)("img",{src:f,alt:p,className:"h-full w-full"})})}),(0,o.jsx)(v,{level:g})]})}},15197:function(e,n,t){"use strict";t.d(n,{c:function(){return s}});var o=t(85893),i=t(51797),a=t(58292),l=t(46283),r=t(29234),s=function(e){var n=e.timestamp,t=e.useCalendarIcon,s=void 0===t||t,c=e.createdAtClassName,u=e.formattedDateClassName,d=e.iconClassName,m=n<1e10?1e3*n:n;return(0,o.jsxs)("div",{className:(0,i.yI)("flex items-center gap-1.5",c),children:[s&&(0,o.jsx)(l.j,{className:(0,i.yI)(r.Cj.labelGrey5,"h-4 w-4",d)}),(0,o.jsx)("div",{className:(0,i.yI)(r.Cj.label3,"min-w-max text-xs",u),children:(0,o.jsx)(a.J,{datetime:m})})]})}},20152:function(e,n,t){"use strict";t.d(n,{E:function(){return l}});var o=t(85893),i=t(51797),a=t(29234),l=function(e){var n=e.className,t=e.onClick,l=e.icon,r=e.iconClassName,s=e.label,c=e.labelClassName,u=e.onIconClick,d=e.disabled,m=void 0!==s,v=void 0!==l;return(0,o.jsxs)("div",{className:(0,i.yI)("flex items-center gap-1",n),onClick:t,children:[v&&(0,o.jsx)(l,{onClick:d?void 0:u,className:(0,i.yI)("h-4 w-4",{"pointer-events-none":d},r)}),m&&(0,o.jsx)("div",{className:(0,i.yI)(a.Cj.label2,"text-xs",c),children:s})]})}},26440:function(e,n,t){"use strict";t.d(n,{T:function(){return m},l:function(){return v}});var o=t(85893),i=t(72510),a=t(11355),l=t(67294),r=t(51797),s=t(50632),c=t(64572),u=t(16142),d=t(29234),m=function(e){var n=e.onClick,t=e.className,a=e.children;return(0,o.jsx)(i.v.Item,{as:"div",onClick:n,className:(0,r.yI)("w-full cursor-pointer select-none rounded py-[5px] px-3 text-md",d.Cj.label2,d.Cj.label1Hover,d.Cj.fill3Hover,t),children:a})},v=function(e){var n,t=e.children,m=e.btnClassName,v=e.customIcon,f=e.iconClassName,p=e.placement,h=void 0===p?"top":p,x=null===(n=(0,s.U)().data)||void 0===n?void 0:n.userStatus,C=Boolean(null===x||void 0===x?void 0:x.isAdmin),y=null!==v&&void 0!==v?v:C?c.k:u.q;return(0,o.jsxs)(i.v,{as:"div",className:"relative",children:[(0,o.jsx)("div",{children:(0,o.jsx)(i.v.Button,{className:(0,r.yI)(d.Cj.label1Hover,"flex h-6 w-6 cursor-pointer items-center justify-center rounded-md",m),children:(0,o.jsx)(y,{className:(0,r.yI)(d.Cj.labelGrey6,d.Cj.labelGrey7Hover,"h-5 w-5",f)})})}),(0,o.jsx)(a.u,{as:l.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,o.jsx)(i.v.Items,{style:{zIndex:100},className:(0,r.yI)(d.Cj.bgLayer3,d.Cj.divider4,d.eq.card,"border-1 absolute right-0 min-w-[200px] rounded-lg p-2 outline-none",{"top-8":"bottom"===h,"bottom-8":"top"===h}),children:(0,o.jsx)("div",{children:t})})})]})}},31071:function(e,n,t){"use strict";t.d(n,{y:function(){return S},a:function(){return Z}});var o=t(14924),i=t(10253),a=t(85893),l=t(67294),r=t(73935),s=t(65451),c=t(11321),u=t(51797),d=t(8290),m=t(25398),v=t(66360),f=t(385),p=t(29234),h=t(48713),x=t(52653),C=t(88525),y=t(23874),g=t(65854),j=(new Map([[y.ZLU.Advertising,"1"],[y.ZLU.Sexual,"2"],[y.ZLU.Violent,"3"],[y.ZLU.Terrorism,"4"],[y.ZLU.Politics,"5"],[y.ZLU.Fake,"6"],[y.ZLU.Illegal,"7"],[y.ZLU.Other,void 0]]),function(){var e=(0,C.umC)(g.f6),n=e.mutateAsync,t=e.isLoading;return{mutateAsync:(0,l.useCallback)((function(e){return n(e).then((function(e){return e.flagPost}))}),[n]),isLoading:t}}),b=t(84945),N=t(75117),I=t(82723),w=function(e){var n=e.value,t=e.label;return(0,a.jsx)(s.E.Option,{value:n,as:l.Fragment,children:function(e){var n=e.checked;return(0,a.jsx)("div",{className:(0,u.yI)("flex w-full cursor-pointer flex-col py-2",p.Cj.label2,p.Cj.label1Hover),children:(0,a.jsxs)("div",{className:(0,u.yI)("flex items-center justify-between"),children:[(0,a.jsx)("span",{children:t}),n&&(0,a.jsx)(v.N,{className:(0,u.yI)("h-4 w-4",p.Cj.labelGrey6)})]})})}})},k=function(e){return[[x.ZL.Advertising,e("advertising")],[x.ZL.Sexual,e("sexual")],[x.ZL.Violent,e("violent")],[x.ZL.Terrorism,e("terrorism")],[x.ZL.Illegal,e("illegal")],[x.ZL.Abuse,e("abuse")],[x.ZL.NonEnglish,e("nonEnglish")],[x.ZL.Other,e("other")]]},S=function(e){var n=e.visible,t=e.onCancel,v=e.postId,C=e.commentId,y=e.articleId,g=(0,c.$G)("solutions",{keyPrefix:"report"}).t,I=(0,l.useState)(null),S=I[0],Z=I[1],T=(0,l.useState)(""),q=T[0],R=T[1],_=j(),B=_.mutateAsync,L=_.isLoading,M=null===S||S===x.ZL.Other&&0===q.trim().length,D=k(g);(0,l.useEffect)((function(){n&&(R(""),Z(null))}),[n]);var E=(0,l.useCallback)((function(){var e=S===x.ZL.Other?q:"";B({postId:v,flagType:S,content:e,articleId:y}).then((function(e){(null===e||void 0===e?void 0:e.ok)?(b.y.success(g("reportSuccess"),{itemClassName:p.Cj.bgLayer3}),t()):b.y.error(g("reportError"),{itemClassName:p.Cj.bgLayer3})}))}),[S,q,B,v,C,g,t,y]);return(0,r.createPortal)((0,a.jsxs)(d.u,{visible:n,onCancel:t,closable:!1,maskClosable:!0,className:(0,u.yI)("w-[480px] p-0 text-base",p.Cj.bgLayer2),children:[(0,a.jsxs)("div",{className:(0,u.yI)("flex items-center px-6 py-4 text-lg font-medium",p.Cj.label1,(0,o.Z)({},(0,u.yI)(p.Cj.dividerBorder2,"border-b"),N.Oo)),children:[g("reportModalTitle"),(0,a.jsx)("button",{onClick:t,className:(0,u.yI)("ml-auto cursor-pointer rounded transition-all",p.Cj.fill3Hover),children:(0,a.jsx)(f.F,{className:(0,u.yI)("h-6 w-6",p.Cj.labelGrey6)})})]}),(0,a.jsxs)("div",{className:(0,u.yI)("px-6 py-2 text-xs"),children:[(0,a.jsx)(s.E,{value:S,onChange:Z,className:(0,u.yI)("flex flex-wrap",{"flex-col":N.Oo,"gap-4":!N.Oo}),children:D.map((function(e){var n=(0,i.Z)(e,2),t=n[0],o=n[1];return(0,a.jsx)(w,{value:t,label:o},t)}))}),S===x.ZL.Other&&(0,a.jsx)(h.g,{className:(0,u.yI)("h-[90px] rounded-lg px-3 py-2 text-sm focus:border-transparent",p.Cj.fill4,p.Cj.placeholderLabel4,p.Cj.label1,{"mt-4":!N.Oo}),placeholder:g("contentPlaceholder"),value:q,onChange:R,autoSize:!0})]}),!1,(0,a.jsxs)("div",{className:(0,u.yI)("flex justify-end gap-4 p-4 text-sm"),children:[(0,a.jsx)(m.z,{onClick:t,className:"rounded-lg px-4 py-1.5",children:g("cancel")}),(0,a.jsx)(m.z,{variant:"primary",disabled:M,loading:L,onClick:E,className:"rounded-lg px-4 py-1.5",children:g("confirm")})]})]}),document.querySelector("#modal-root"))},Z=I.E},9570:function(e,n,t){"use strict";t.d(n,{L:function(){return C}});var o=t(14924),i=t(26042),a=t(69396),l=t(85893),r=t(67294),s=t(72510),c=t(11355),u=t(51797),d=t(66360),m=t(5797),v=t(29234),f={menuButton:"flex items-center rounded px-3 py-1.5 text-left cursor-pointer focus:outline-none whitespace-nowrap leading-5",menuButtonBg:v.Cj.fill3,menuButtonText:v.Cj.label2,menuButtonHover:v.Cj.fill2Hover,menuButtonActive:"active:bg-fill-3 dark:active:bg-dark-fill-3",menuButtonIcon:"w-4.5 h-4.5 flex items-center ml-3 pointer-events-none transition duration-300 ".concat(v.Cj.label3),menuButtonDisabled:v.Cj.label4,dropdownTransition:{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95"},menuItems:"max-w-[240px] min-w-[140px] absolute z-dropdown mt-1 rounded-lg p-2 overflow-auto focus:outline-none ".concat(v.eq.commandBar),menuItemsBg:v.Cj.bgOverlay3,menuItem:"cursor-pointer select-none relative h-8 py-1.5 pl-2 pr-12",menuItemText:v.Cj.label1,menuItemActive:"rounded ".concat(v.Cj.fill4),menuItemHover:v.Cj.fill4Hover,menuItemSelectedIconWrapper:"absolute inset-y-0 right-0 flex items-center pr-2 text-blue dark:text-dark-blue",popoverTransition:{enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1"},popoverPanel:"absolute w-max max-w-xs z-dropdown mt-1 p-2.5 rounded-lg focus:outline-none"},p=t(99534),h=t(36806),x=(0,r.forwardRef)((function(e,n){var t=e.disabled,r=e.className,s=e.icon,c=e.iconClassName,d=e.isOpen,m=e.children,v=(0,p.Z)(e,["disabled","className","icon","iconClassName","isOpen","children"]);return(0,l.jsxs)("button",(0,a.Z)((0,i.Z)({disabled:t,className:(0,u.yI)(f.menuButton,f.menuButtonBg,t?[f.menuButtonDisabled,"cursor-default"]:[f.menuButtonText,f.menuButtonHover,f.menuButtonActive],r),ref:n},v),{type:"button",children:[m,(0,l.jsx)("div",{className:(0,u.yI)(f.menuButtonIcon,(0,o.Z)({"rotate-180 transform":d},f.menuButtonDisabled,t),c),"aria-hidden":"true",children:s||(0,l.jsx)(h.C,{})})]}))})),C=function(e){var n=e.btnText,t=e.btnClassName,p=e.placeholder,h=e.icon,C=e.iconClassName,y=e.items,g=e.itemsClassName,j=e.itemClassName,b=e.itemSelectedClassName,N=e.placeholderClassName,I=void 0===N?v.Cj.label4:N,w=e.selected,k=e.setSelected,S=e.wrapperClassName,Z=e.disabled;return(0,l.jsx)(s.v,{as:"div",className:(0,u.yI)("relative",S),children:function(e){var v=e.open;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.v.Button,{as:x,className:(0,u.yI)(t,(0,o.Z)({},I,!n)),isOpen:v,icon:h,iconClassName:C,disabled:Z,children:n||p}),!Z&&(0,l.jsx)(c.u,(0,a.Z)((0,i.Z)({as:r.Fragment},f.dropdownTransition),{children:(0,l.jsx)(s.v.Items,{className:(0,u.yI)(f.menuItems,f.menuItemsBg,g),children:y.map((function(e,n){var t=e.value,i=e.text;return(0,l.jsx)(s.v.Item,{children:function(e){var n,a=e.active;return(0,l.jsxs)("div",{className:(0,u.yI)(f.menuItem,f.menuItemText,j,(n={},(0,o.Z)(n,f.menuItemActive,a),(0,o.Z)(n,null!==b&&void 0!==b?b:"",w===t),n)),onClick:function(){return k(w!==t?t:void 0)},children:[(0,l.jsx)("div",{className:"flex h-5 items-center",children:(0,l.jsx)(m.J,{showArrow:!1,children:i})}),w===t?(0,l.jsx)("span",{className:f.menuItemSelectedIconWrapper,children:(0,l.jsx)(d.N,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},n)}))})}))]})}})}},58292:function(e,n,t){"use strict";t.d(n,{J:function(){return r}});var o=t(85893),i=t(74792),a=t(93103),l=t(4999),r=function(e){var n=e.datetime,t=e.className,r=e.unix,s=void 0!==r&&r,c=e.displayDetail,u=void 0!==c&&c,d=e.needDetailTooltip,m=void 0===d||d,v=e.dateFormat,f=void 0===v?"MMM DD, YYYY":v,p=e.detailFormat,h=void 0===p?"MMM DD, YYYY HH:mm":p,x=e.placement,C=void 0===x?"top":x,y=(0,l.B)(),g=s?l.B.unix(Number(n)):(0,l.B)(n),j=(0,a.w)(y,g)?y.to(g):g.local().format(f),b=g.local().format(h),N=u?b:j;return m&&!u?(0,o.jsx)(i.ua7,{placement:C,label:b,hasArrow:!1,children:(0,o.jsx)("span",{className:t,children:N})}):(0,o.jsx)("span",{className:t,children:N})}},8290:function(e,n,t){"use strict";t.d(n,{u:function(){return m}});var o=t(14924),i=t(85893),a=t(11355),l=t(67294),r=t(11163),s=t.n(r),c=t(51797),u=t(29234),d=t(385);function m(e){var n=e.visible,t=e.onCancel,r=e.title,m=e.children,v=e.afterClose,f=e.className,p=e.titleRowClass,h=e.titleClassName,x=e.closable,C=void 0===x||x,y=e.showCloseIcon,g=void 0===y||y,j=e.maskClosable,b=void 0!==j&&j,N=e.stopMouseDownPropagation,I=e.shouldCloseOnEsc,w=void 0===I||I,k=e.renderPrefixChildren,S=e.noShadow,Z=void 0!==S&&S;(0,l.useEffect)((function(){return s().events.on("beforeHistoryChange",t),function(){return s().events.off("beforeHistoryChange",t)}}),[t]),(0,l.useEffect)((function(){if(w){var e=function(e){"Escape"===e.key&&t()};return window.addEventListener("keyup",e),function(){return window.removeEventListener("keyup",e)}}}),[t,w]);var T=(0,l.useCallback)((function(e){return e.stopPropagation()}),[]);return(0,i.jsx)(a.u,{appear:!0,show:n,afterLeave:v,children:(0,i.jsx)("div",{"aria-modal":"true",role:"dialog",className:"fixed inset-0 overflow-y-auto z-modal",onMouseDown:null!==N&&void 0!==N?N:T,children:(0,i.jsxs)("div",{className:"flex min-h-screen items-center justify-center px-4",children:[(0,i.jsx)(a.u.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,i.jsx)("div",{"aria-hidden":"true",onClick:b?t:void 0,className:"fixed inset-0 bg-gray-8 opacity-60"})}),null===k||void 0===k?void 0:k.map((function(e,n){return e?(0,i.jsx)(a.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e},"prefix-child-".concat(n)):null})),(0,i.jsx)(a.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,i.jsxs)("div",{className:(0,c.yI)("my-8 inline-block min-w-full transform overflow-hidden rounded-[13px] p-5 text-left transition-all",u.Cj.bgOverlay3,(0,o.Z)({"md:min-w-[420px]":!(null===f||void 0===f?void 0:f.includes("md:min-w-"))},u.eq.modal,!Z),f),children:[r?(0,i.jsxs)("div",{className:(0,c.yI)("flex justify-between",p),children:[(0,i.jsx)("h3",{className:(0,c.yI)("text-lg font-medium",h),children:r}),C&&g&&(0,i.jsx)("button",{onClick:t,className:(0,c.yI)("cursor-pointer rounded transition-all",u.Cj.fill3Hover),children:(0,i.jsx)(d.F,{className:"h-6 w-6 text-gray-6 dark:text-dark-gray-6"})})]}):(0,i.jsx)(i.Fragment,{children:C&&(0,i.jsx)("button",{onClick:t,className:(0,c.yI)("cursor-pointer rounded transition-all","absolute top-0 right-0 m-5 z-modal"),children:(0,i.jsx)(d.F,{className:"h-6 w-6 text-gray-6 dark:text-dark-gray-6"})})}),m]})})]})})})}},39008:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var o=t(29815),i=t(85893),a=t(67294),l=t(51797),r=t(29234),s=t(75247),c=t(16142),u=t(67222),d=t(14924),m=t(26042),v=t(69396),f=t(99534),p={pagination:"flex flex-nowrap items-center space-x-2",itemBase:"flex items-center justify-center px-3 h-8 rounded select-none focus:outline-none",itemDefault:"bg-fill-3 dark:bg-dark-fill-3 text-label-2 dark:text-dark-label-2",itemDisabled:"disabled:opacity-40 disabled:pointer-events-none",itemHover:"hover:bg-fill-2 dark:hover:bg-dark-fill-2",itemActive:"pointer-events-none bg-paper dark:bg-dark-gray-5 text-label-1 dark:text-dark-label-1 ".concat(r.eq.card)},h=function(e){var n,t=e.children,o=e.className,a=e.current,r=e.page,s=e.onClickHandler,c=(0,f.Z)(e,["children","className","current","page","onClickHandler"]);return(0,i.jsx)("button",(0,v.Z)((0,m.Z)({className:(0,l.yI)(p.itemBase,o,(n={},(0,d.Z)(n,p.itemDefault,!a),(0,d.Z)(n,p.itemHover,!a),(0,d.Z)(n,p.itemActive,a),(0,d.Z)(n,p.itemDisabled,c.disabled),n))},c),{onClick:function(){s&&s(r)},children:r||t}))},x=function(e){var n=e.className,t=e.currentPage,d=e.totalItems,m=e.onChange,v=e.pageItemClassName,f=e.chevronClassName,x=e.arrowButtonClassName,C=e.itemsPerPage,y=void 0===C?50:C,g=e.maxPageItems,j=void 0===g?8:g,b=e.disabled,N=void 0!==b&&b,I=Math.ceil(d/y)||0,w=j>I?I:j,k=(0,o.Z)(Array(w)).map((function(e,n){return function(e,n,t,o){var i=(t=t<1?1:t)-2,a=i,l=o-i+1,r=o-t,s=n-Math.ceil((t-4)/2)-2,c=t-1;return 1===t?n:t===1/0||o<=t?e+1:t<5?n+c>o?r+e+1:n+e:0===e?1:e+1===t?o:n<a?e<a?e+1:"gap":n>l?e>1?r+e+1:"gap":1===e||e+1===c?"gap":e+s+1}(n,t,j,I)})),S=t>1,Z=t<I,T=(0,a.useCallback)((function(e){null!=e&&m(e)}),[m]);return(0,a.useEffect)((function(){t>I&&I?T(I):t||T(1)}),[I,T,t]),(0,i.jsxs)("nav",{role:"navigation",className:(0,l.yI)(n,p.pagination),children:[(0,i.jsx)(h,{"aria-label":"prev",disabled:!S||N,onClickHandler:function(){S&&T(t-1)},className:(0,l.yI)(v,x),children:(0,i.jsx)(s.e,{className:(0,l.yI)(r.Cj.label2,f)})},"prev"),k.map((function(e,n){return"gap"===e?(0,i.jsx)(h,{"aria-label":"gap",disabled:!0,className:v,children:(0,i.jsx)(c.q,{className:r.Cj.label2})},n):(0,i.jsx)(h,{current:e===t,page:e,onClickHandler:T,className:v,disabled:N},n)})),(0,i.jsx)(h,{"aria-label":"next",disabled:!Z||N,onClickHandler:function(){Z&&T(t+1)},className:(0,l.yI)(v,x),children:(0,i.jsx)(u.V,{className:(0,l.yI)(r.Cj.label2,f)})},"next")]})}},48713:function(e,n,t){"use strict";t.d(n,{g:function(){return d}});var o=t(26042),i=t(69396),a=t(99534),l=t(10253),r=t(85893),s=t(67294),c=t(51797),u=t(29234),d=s.forwardRef((function(e,n){var t=e.value,d=void 0===t?"":t,m=e.autoSize,v=void 0!==m&&m,f=e.onChange,p=e.className,h=e.maxLength,x=e.showRecord,C=e.rows,y=(0,a.Z)(e,["value","autoSize","onChange","className","maxLength","showRecord","rows"]),g=(0,s.useCallback)((function(e){null===f||void 0===f||f(e.target.value)}),[f]),j=(0,s.useRef)(null),b=(0,s.useCallback)((function(e){j.current=e,"function"===typeof n?n(e):(null===n||void 0===n?void 0:n.current)&&(n.current=e)}),[]),N=(0,s.useState)(1),I=N[0],w=N[1],k=(0,s.useRef)(null);return(0,s.useEffect)((function(){if(v){var e=k.current;if(e){var n=new ResizeObserver((function(e){var n=(0,l.Z)(e,1)[0];w(n.target.scrollHeight/20|0)}));return n.observe(e),function(){n.disconnect()}}}}),[v]),(0,s.useEffect)((function(){var e=k.current;e&&v&&w(e.scrollHeight/20|0)}),[d,v]),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"h-0 overflow-hidden",children:(0,r.jsx)("textarea",{ref:k,className:"w-full resize-none overflow-hidden px-2 leading-5 outline-none",rows:1,value:d,disabled:!0})}),(0,r.jsx)("textarea",(0,i.Z)((0,o.Z)({},y),{ref:b,maxLength:h,value:d,onChange:g,rows:v?I:C,className:(0,c.yI)({"overflow-hidden":v},"w-full rounded-lg px-2 py-2.5 leading-5","border border-transparent outline-none transition-[border-color] focus:border-green-s",p)})),h&&h>0&&x&&(0,r.jsxs)("div",{className:(0,c.yI)("absolute right-2 bottom-2 text-xs",u.Cj.label3),children:[d.length," / ",h]})]})}))},52653:function(e,n,t){"use strict";var o,i,a;t.d(n,{ZL:function(){return a},f:function(){return o},i6:function(){return i}}),function(e){e.Best="best",e.Hot="hot",e.MostRelevant="most_relevant",e.MostVotes="most_votes",e.NewestToOldest="newest_to_oldest",e.OldestToNewest="oldest_to_newest"}(o||(o={})),function(e){e.Up="up",e.Down="down",e.None="none"}(i||(i={})),function(e){e.Abuse="ABUSE",e.Advertising="ADVERTISING",e.All="ALL",e.Fake="FAKE",e.Illegal="ILLEGAL",e.NonEnglish="NON_ENGLISH",e.Other="OTHER",e.Politics="POLITICS",e.Sexual="SEXUAL",e.Terrorism="TERRORISM",e.Violent="VIOLENT"}(a||(a={}))},38488:function(e,n,t){"use strict";t.d(n,{Ew:function(){return i}});t(82010);var o=t(36492),i=function(){return(0,o.a)([],(function(){return null}))}},6919:function(e,n,t){"use strict";var o,i,a,l;t.d(n,{$4:function(){return i},av:function(){return o},i7:function(){return a},rr:function(){return l}}),function(e){e.Hot="hot",e.MostPosts="most_posts",e.MostRelevant="most_relevant",e.MostVotes="most_votes",e.NewestToOldest="newest_to_oldest",e.OldestToNewest="oldest_to_newest",e.RecentActivity="recent_activity"}(o||(o={})),function(e){e.All="All",e.Deleted="Deleted",e.Hidden="Hidden",e.NeedUpdate="NeedUpdate",e.Open="Open",e.Pending="Pending",e.Reviewed="Reviewed",e.Muted="Muted",e.Draft="Draft"}(i||(i={})),function(e){e[e.Upvote=1]="Upvote",e[e.None=0]="None",e[e.Downvote=-1]="Downvote"}(a||(a={})),function(e){e.Body="BODY",e.Comment="COMMENT",e.Reply="REPLY",e.Title="TITLE"}(l||(l={}))},88088:function(e,n,t){"use strict";t.d(n,{E:function(){return l}});var o=t(26042),i=t(69396),a=t(85893),l=t(67294).forwardRef((function(e,n){return(0,a.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,a.jsx)("path",{d:"M10 3.333V6h3.716c.872 0 1.326 1.038.735 1.678l-5.716 6.193a1 1 0 01-1.47 0L1.55 7.678C.96 7.038 1.412 6 2.284 6H6V3.333C6 2.597 6.597 2 7.334 2h1.333C9.403 2 10 2.597 10 3.333z"})}))}))},38535:function(e,n,t){"use strict";t.d(n,{v:function(){return l}});var o=t(26042),i=t(69396),a=t(85893),l=t(67294).forwardRef((function(e,n){return(0,a.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M8.667 7.333v-4H7.334v4H3.046L8 12.701l4.955-5.368H8.667zm-.912 5.633zM6 3.333C6 2.597 6.597 2 7.334 2h1.333C9.403 2 10 2.597 10 3.333V6h3.716c.872 0 1.326 1.038.735 1.678l-5.716 6.193a1 1 0 01-1.47 0L1.55 7.678C.96 7.038 1.412 6 2.284 6H6V3.333z",clipRule:"evenodd"})}))}))},36258:function(e,n,t){"use strict";t.d(n,{h:function(){return l}});var o=t(26042),i=t(69396),a=t(85893),l=t(67294).forwardRef((function(e,n){return(0,a.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.293 9.293a1 1 0 111.414 1.414l-5 5a1 1 0 01-1.414 0l-5-5a1 1 0 011.414-1.414L12 13.586l4.293-4.293z",clipRule:"evenodd"})}))}))},19913:function(e,n,t){"use strict";t.d(n,{S:function(){return l}});var o=t(26042),i=t(69396),a=t(85893),l=t(67294).forwardRef((function(e,n){return(0,a.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.293 14.707a1 1 0 001.414-1.414l-5-5a1 1 0 00-1.414 0l-5 5a1 1 0 101.414 1.414L12 10.414l4.293 4.293z",clipRule:"evenodd"})}))}))},72230:function(e,n,t){"use strict";t.d(n,{V:function(){return l}});var o=t(26042),i=t(69396),a=t(85893),l=t(67294).forwardRef((function(e,n){return(0,a.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,a.jsx)("path",{d:"M8.735 2.13a1 1 0 00-1.47 0L1.55 8.321C.96 8.962 1.412 10 2.284 10H6v2.667C6 13.403 6.597 14 7.334 14h1.333C9.403 14 10 13.403 10 12.667V10h3.716c.872 0 1.326-1.038.735-1.678L8.735 2.129z"})}))}))},81117:function(e,n,t){"use strict";t.d(n,{P:function(){return l}});var o=t(26042),i=t(69396),a=t(85893),l=t(67294).forwardRef((function(e,n){return(0,a.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M11 20a1 1 0 011-1h8a1 1 0 110 2h-8a1 1 0 01-1-1zM17.018 5c-.26 0-.51.104-.695.288L4.837 16.773l-.463 1.853 1.853-.463L17.712 6.677A.981.981 0 0017.018 5zm-2.11-1.126a2.983 2.983 0 014.219 4.217L7.444 19.773a1 1 0 01-.464.263l-3.738.934a1 1 0 01-1.213-1.212l.934-3.739a1 1 0 01.263-.464L14.91 3.874z",clipRule:"evenodd"})}))}))},62611:function(e,n,t){"use strict";t.d(n,{Q:function(){return l}});var o=t(26042),i=t(69396),a=t(85893),l=t(67294).forwardRef((function(e,n){return(0,a.jsxs)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:[(0,a.jsx)("path",{fillRule:"evenodd",d:"M11.5 5.5a7 7 0 107 7 1 1 0 112 0 9 9 0 11-9-9 1 1 0 110 2z",clipRule:"evenodd"}),(0,a.jsx)("path",{fillRule:"evenodd",d:"M20.207 3.793a1 1 0 010 1.414l-7 7a1 1 0 01-1.414-1.414l7-7a1 1 0 011.414 0z",clipRule:"evenodd"}),(0,a.jsx)("path",{fillRule:"evenodd",d:"M14.5 4.5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 11-2 0v-3h-3a1 1 0 01-1-1z",clipRule:"evenodd"})]}))}))},7367:function(e,n,t){"use strict";t.d(n,{j:function(){return l}});var o=t(26042),i=t(69396),a=t(85893),l=t(67294).forwardRef((function(e,n){return(0,a.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M20 5h-4V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v1H4a1 1 0 000 2h1v12a3 3 0 003 3h8a3 3 0 003-3V7h1a1 1 0 100-2zm-6-1v1h-4V4h4zm-5 6a1 1 0 012 0v7a1 1 0 11-2 0v-7zm4 0a1 1 0 112 0v7a1 1 0 11-2 0v-7zM7 7h10v12a1 1 0 01-1 1H8a1 1 0 01-1-1V7z",clipRule:"evenodd"})}))}))},80947:function(e,n,t){"use strict";t.d(n,{X:function(){return l}});var o=t(26042),i=t(69396),a=t(85893),l=t(67294).forwardRef((function(e,n){return(0,a.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M7.333 8.667v4h1.334v-4h4.288L8 3.299 3.045 8.667h4.288zm-1.333 4C6 13.403 6.597 14 7.333 14h1.334C9.403 14 10 13.403 10 12.667V10h3.716c.872 0 1.326-1.038.735-1.678L8.735 2.129a1 1 0 00-1.47 0L1.55 8.322C.958 8.962 1.412 10 2.284 10H6v2.667z",clipRule:"evenodd"})}))}))},7822:function(e,n,t){"use strict";t.d(n,{Q:function(){return l}});var o=t(26042),i=t(69396),a=t(85893),l=t(67294).forwardRef((function(e,n){return(0,a.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zM10.944 9.835a1.25 1.25 0 012.429.417c0 .253-.226.555-.68.857a4.039 4.039 0 01-.886.446 1 1 0 10.632 1.897c.358-.12.855-.34 1.364-.679.952-.635 1.57-1.458 1.57-2.52a3.25 3.25 0 00-6.316-1.081 1 1 0 001.887.663zM11.186 16v.135a1 1 0 102 0V16a1 1 0 10-2 0z",clipRule:"evenodd"})}))}))},67962:function(e,n,t){"use strict";t.d(n,{J:function(){return l}});var o=t(26042),i=t(69396),a=t(85893),l=t(67294).forwardRef((function(e,n){return(0,a.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M13 7a1 1 0 011-1h2a6 6 0 010 12h-2a1 1 0 110-2h2a4 4 0 000-8h-2a1 1 0 01-1-1zm-3 10a1 1 0 01-1 1H8A6 6 0 018 6h1a1 1 0 010 2H8a4 4 0 100 8h1a1 1 0 011 1zm-1-6h6a1 1 0 110 2H9a1 1 0 110-2z",clipRule:"evenodd"})}))}))},46283:function(e,n,t){"use strict";t.d(n,{j:function(){return l}});var o=t(26042),i=t(69396),a=t(85893),l=t(67294).forwardRef((function(e,n){return(0,a.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M19 11.063V7h-2v1a1 1 0 11-2 0V7H9v1a1 1 0 01-2 0V7H5v4.063h14zm0 2H5V19h14v-5.938zM9 5h6V4a1 1 0 112 0v1h2a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2V4a1 1 0 012 0v1z",clipRule:"evenodd"})}))}))},25132:function(e,n,t){"use strict";t.d(n,{H:function(){return l}});var o=t(26042),i=t(69396),a=t(85893),l=t(67294).forwardRef((function(e,n){return(0,a.jsx)("svg",(0,i.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M14.707 2.707a1 1 0 00-1.414-1.414l-2 2a1 1 0 00-.15 1.221l1.5 2.5a1 1 0 001.714-1.029l-.454-.757a8 8 0 11-6.347 1.119 1 1 0 00-1.112-1.662A9.991 9.991 0 002 13c0 5.523 4.477 10 10 10s10-4.477 10-10c0-4.775-3.347-8.769-7.823-9.762l.53-.53zM13 10a1 1 0 10-2 0v4a1 1 0 00.445.832l3 2a1 1 0 001.11-1.664L13 13.465V10z",clipRule:"evenodd"})}))}))},82723:function(e,n,t){"use strict";t.d(n,{E:function(){return i}});var o=t(67294),i=function(e){return null};i.displayName="NullComponent";(0,o.forwardRef)((function(e,n){return null})).displayName="ForwardRefNullComponent"},73975:function(e,n,t){"use strict";t.d(n,{Q:function(){return i}});var o=t(67294),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.domElement,t=e.threshold,i=void 0===t?475:t,a=!!(null===n||void 0===n?void 0:n.clientWidth)&&(null===n||void 0===n?void 0:n.clientWidth)<i,l=(0,o.useState)(a),r=l[0],s=l[1];return(0,o.useEffect)((function(){if(n){var e=new ResizeObserver((function(){return s((null===n||void 0===n?void 0:n.clientWidth)<i)}));return e.observe(n),function(){return e.unobserve(n)}}}),[n,i]),r}},42638:function(e,n,t){var o=t(4963),i="string"===typeof o?[[e.id,o,""]]:o;(n=e.exports=o.locals||{})._getContent=function(){return i},n._getCss=function(){return""+o}}}]);